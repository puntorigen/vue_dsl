'use strict';(function(p,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k(require("crypto"),require("vm")):"function"===typeof define&&define.amd?define(["crypto","vm"],k):(p="undefined"!==typeof globalThis?globalThis:p||self,p.vue_dsl=k())})(this,function(){function p(a,g,c,e,h,d,b){try{var f=a[d](b),n=f.value}catch(l){c(l);return}f.done?g(n):Promise.resolve(n).then(e,h)}function k(a){return function(){var g=this,c=arguments;return new Promise(function(e,h){function d(a){p(f,
e,h,d,b,"next",a)}function b(a){p(f,e,h,d,b,"throw",a)}var f=a.apply(g,c);d(void 0)})}}function u(a,g){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);g&&(e=e.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable}));c.push.apply(c,e)}return c}function m(a){for(var g=1;g<arguments.length;g++){var c=null!=arguments[g]?arguments[g]:{};g%2?u(Object(c),!0).forEach(function(e){var h=c[e];e in a?Object.defineProperty(a,e,{value:h,enumerable:!0,
configurable:!0,writable:!0}):a[e]=h}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(c,e))})}return a}function x(a){return t.apply(this,arguments)}function t(){t=k(function*(a){var g={hint:"Allowed node type that must be ommited",func:function(){var c=k(function*(d,b){return a.reply_template({hasChildren:!1,state:b})});return function(a,b){return c.apply(this,
arguments)}}()},c=function(c){var d=a.dsl_parser.findVariables({text:c,symbol:"**",symbol_closing:"**"});c=a.dsl_parser.replaceVarsSymbol({text:c,from:{open:"**",close:"**"},to:{open:"${",close:"}"}});return"${"+d+"}"==c?d:"`".concat(c,"`")},e=function(c,d){var b={refx:d.id},f={};if("attributes_aliases"in a.x_commands[c]){var n=a.x_commands[c].attributes_aliases;Object.keys(n).map(function(a){n[a].split(",").map(b=>{f[b]=a})})}Object.keys(d.attributes).map(function(a){var n=d.attributes[a];a=a.trim().replace(":",
"");var c=a.toLowerCase(),l=n.toString().replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env.").replaceAll("$store.","$store.state.").trim();"props"==c?n.split(",").map(a=>{b[a]=null}):c in f&&n!=l?"v-model"==f[c]?b[f[c]]=l:b[":".concat(f[c])]=l:c in f?b[f[c]]=l:n!=l||"$"==n[0]||"!"==n[0]?b[":".concat(a)]=l:b[a]=l});return b};return{def_config:m(m({},g),{x_icons:"desktop_new",x_level:"2",x_text_contains:"config"}),def_modelos:m(m({},g),
{x_icons:"desktop_new",x_level:"2",x_text_contains:"modelos"}),def_assets:m(m({},g),{x_icons:"desktop_new",x_level:"2",x_text_contains:"assets"}),def_server:{x_icons:"desktop_new",x_level:"2",x_text_contains:"server|servidor|api",hint:"Representa a un backend integrado con funciones de express.",func:function(){var c=k(function*(d,b){d=a.reply_template();a.x_state.npm=m(m({},a.x_state.npm),{body_parser:"*","cookie-parser":"*"});a.x_state.central_config.static=!1;return d});return function(a,b){return c.apply(this,
arguments)}}()},def_server_path:{x_icons:"list",x_level:"3,4",x_or_hasparent:"def_server",x_not_icons:"button_cancel,desktop_new,help",hint:"Carpeta para ubicacion de funcion de servidor",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});if(3==d.level)b.state.current_folder=d.text;else if(4==d.level&&(yield a.isExactParentID(d.id,"def_server_path"))){var f=yield a.dsl_parser.getParentNode({id:d.id});b.state.current_folder="".concat(f.text,"/").concat(d.text)}else b.valid=!1;return b});
return function(a,b){return c.apply(this,arguments)}}()},def_server_func:{x_empty:"icons",x_level:"3,4,5",x_or_hasparent:"def_server",hint:"Corresponde a la declaracion de una funcion de servidor",func:function(){var c=k(function*(d,b){var f=a.reply_template({state:b});a.x_state.central_config.static=!1;f.state.current_func=d.text;2!=d.level&&(b=f.state.current_folder?f.state.current_folder.split("/"):[],f.state.current_func=[...b,d.text].join("_"));a.x_state.functions[f.state.current_func]||(a.x_state.functions[f.state.current_func]=
{tipo:"web",acceso:"*",params:"",param_doc:{},doc:d.text_note,method:"get",return:"",path:"/"+(f.state.current_folder?f.state.current_folder+"/":"")+d.text,imports:{}});Object.keys(d.attributes).map(function(b){b=b.toLowerCase();":type type tipo :tipo :method method".split(" ").includes(b)?a.x_state.functions[f.state.current_func].method=d.attributes[b]:b.contains(":")?a.x_state.functions[f.state.current_func].param_doc[b.split(":")[0]]={type:b.split(":")[1],desc:d.attributes[b]}:a.x_state.functions[f.state.current_func][b.toLowerCase().trim()]=
d.attributes[b]});f.open=a.tagParams("func_code",{name:f.state.current_func,method:a.x_state.functions[f.state.current_func].method,path:a.x_state.functions[f.state.current_func].path},!1)+"\n";f.close="</func_code>";return f});return function(a,b){return c.apply(this,arguments)}}()},def_store:{x_icons:"desktop_new",x_level:"2",x_text_contains:"store",hint:"Representa una coleccion de stores de Vue",func:function(){var c=k(function*(d,b){return a.reply_template({state:b,hasChildren:!0})});return function(a,
b){return c.apply(this,arguments)}}()},def_store_def:{x_empty:"icons",x_level:"3",x_all_hasparent:"def_store",hint:"Representa a una definicion de store de VueX",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f="normal",c="",l="";b.state.current_store=d.text;a.x_state.stores||(a.x_state.stores={});a.x_state.stores&&!1===d.text in a.x_state.stores&&(a.x_state.stores[d.text]={});Object.keys(d.attributes).map(function(b){b=b.toLowerCase();[":type","type","tipo",":tipo"].includes(b)?
["sesion","session"].includes(d.attributes[b])?(f="session",a.x_state.npm["nuxt-vuex-localstorage"]="*"):"local persistent persistente localstorage storage db bd".split(" ").includes(d.attributes[b])&&(f="local",a.x_state.npm["nuxt-vuex-localstorage"]="*"):["version",":version"].includes(b)?c=d.attributes[b]:["expire",":expire","expira",":expira"].includes(b)&&(l=d.attributes[b])});a.x_state.stores_types&&!1===f in a.x_state.stores_types&&(a.x_state.stores_types[f]={});!1===b.state.current_store in
a.x_state.stores_types[f]&&(a.x_state.stores_types[f][b.state.current_store]={});""!=c&&!1===b.state.current_store in a.x_state.stores_types.versions&&(a.x_state.stores_types.versions[b.state.current_store]=c);""!=c&&!1===b.state.current_store in a.x_state.stores_types.expires&&(a.x_state.stores_types.expires[b.state.current_store]=l);return b});return function(a,b){return c.apply(this,arguments)}}()},def_proxies:{x_icons:"desktop_new",x_level:2,x_text_contains:"prox",hint:"Representa una coleccion de proxies de Vue",
func:function(){var c=k(function*(d,b){return a.reply_template({state:b})});return function(a,b){return c.apply(this,arguments)}}()},def_proxy_def:{x_level:3,x_empty:"icons",x_or_isparent:"def_proxies",hint:"Representa una definicion de un proxy (middleware) en Vue",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});b.state.current_proxy=d.text.trim();a.x_state.proxies[b.state.current_proxy]={imports:{underscore:"_"},code:""};b.open=a.tagParams("proxy_code",{name:b.state.current_proxy},
!1)+"\n";b.close="</proxy_code>";return b});return function(a,b){return c.apply(this,arguments)}}()},def_page:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help",x_not_text_contains:"componente:,layout:",hint:"Archivo vue",func:function(){var c=k(function*(d,b){var f=a.reply_template({state:b});f.state.current_page=d.text;a.x_state.pages[f.state.current_page]||(a.x_state.pages[f.state.current_page]={tipo:"page",acceso:"*",params:"",layout:"",defaults:{},imports:{},components:{},directives:{},
variables:{},seo:{},meta:{},head:{script:[],meta:[],seo:{}},var_types:{},proxies:"",return:"",styles:{},script:{},path:"/"+f.state.current_page});f.state.from_def_layout&&(a.x_state.pages[f.state.current_page].tipo="layout");f.state.from_def_componente&&(a.x_state.pages[f.state.current_page].tipo="componente");d.icons.includes("gohome")&&(a.x_state.pages[f.state.current_page].path="/");var c={};Object.keys(d.attributes).map(function(b){var n=d.attributes[b];n=n.replaceAll("$variables.","").replaceAll("$vars.",
"").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.","$store.state.");["proxy"].includes(b.toLowerCase())?a.x_state.pages[f.state.current_page].proxies=n:["acceso","method"].includes(b.toLowerCase())?a.x_state.pages[f.state.current_page].acceso=n:["path","url","ruta"].includes(b.toLowerCase())?a.x_state.pages[f.state.current_page].path=n:["layout"].includes(b.toLowerCase())?a.x_state.pages[f.state.current_page].layout=n:["meta:title","meta:titulo"].includes(b.toLowerCase())?
a.x_state.pages[f.state.current_page].xtitle=n:["background","fondo"].includes(b.toLowerCase())?(c.id="tapa",b=a.getAsset(n,"css"),a.x_state.pages[f.state.current_page].styles["#tapa"]={"background-image":"url('".concat(b,"')"),"background-repeat":"no-repeat","background-size":"100vw"}):":"!=b.charAt(0)&&n!=d.attributes[b]?c[":"+b]=n:c[b]=n}.bind(this));""!=d.text_note&&(f.open="\x3c!-- ".concat(d.text_note.replaceAll("<br/ >","\n")," --\x3e\n"));f.open+="<template>\n";!1==="from_def_componente"in
f.state&&""==a.x_state.pages[f.state.current_page].layout&&(f.open+="\t"+a.tagParams("v-app",c,!1)+"\n",f.close+="\t</v-app>\n");f.close+="</template>\n";return f});return function(a,b){return c.apply(this,arguments)}}()},def_page_seo:{x_level:3,x_icons:"desktop_new",x_text_contains:"seo",hint:"Definicion local de SEO",func:function(){var c=k(function*(d,b){var f=a.reply_template({state:b});(yield d.getNodes()).map(function(){var d=k(function*(d){var f=d.text.toLowerCase().trim(),c=yield d.getNodes();
if("keywords"==f){var n=[];c.map(a=>{n.push(a.text)});a.x_state.pages[b.current_page].seo[f]=n;a.x_state.pages[b.current_page].meta.push({hid:a.hash(c),name:"keywords",content:n.join(",")})}else"language"==f&&0<c.length?(a.x_state.pages[b.current_page].seo[f]=c[0].text,a.x_state.pages[b.current_page].meta.push({hid:a.hash(c),lang:c[0].text.toLowerCase().trim(),content:c[0].text})):0<c.length&&(a.x_state.pages[b.current_page].seo[f]=c[0].text,f.contains(":")?a.x_state.pages[b.current_page].meta.push({property:f,
vmid:f,content:c[0].text}):a.x_state.pages[b.current_page].meta.push({hid:a.hash(c),name:d.text.trim(),content:c[0].text}))});return function(a){return d.apply(this,arguments)}}().bind(this));return f});return function(a,b){return c.apply(this,arguments)}}()},def_page_estilos:{x_level:"3,4",x_icons:"desktop_new",x_text_contains:"estilos",x_or_hasparent:"def_page,def_componente,def_layout",hint:"Definicion de estilos/clases locales",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});
d=m(m({},{scoped:!0}),e("def_page_estilos",d));b.open=a.tagParams("page_estilos",d,!1);b.close="</page_estilos>";return b});return function(a,b){return c.apply(this,arguments)}}()},def_page_estilos_class:{x_level:4,x_empty:"icons",x_all_hasparent:"def_page_estilos",hint:"Definicion de clase CSS en template VUE",func:function(){var c=k(function*(d,b){var f=a.reply_template({state:b});b=d.text.trim().charAt(0);!1===["#",".","|"].includes(b)?f.open=".".concat(d.text.trim()," {\n"):f.open="|"==b?"".concat(d.text.trim().substring(1),
" {\n"):"".concat(d.text.trim()," {\n");Object.keys(d.attributes).map(function(b){var c=d.attributes[b];a.x_state.es6&&!c.contains("!important")&&";"!=c.slice(-1)?f.open+="\t".concat(b,": ").concat(c," !important;\n"):a.x_state.es6&&!c.contains("!important")?f.open+="\t".concat(b,": ").concat(c.slice(0,-1)," !important;\n"):f.open+="\t".concat(b,": ").concat(c,";\n")});f.open+="}\n";return f});return function(a,b){return c.apply(this,arguments)}}()},def_layout:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help,idea",
x_text_contains:"layout:",x_empty:"icons",hint:"Archivo vue tipo layout",func:function(){var c=k(function*(d,b){a.reply_template({state:b});d=yield a.x_commands.def_page.func(d,m(m({},b),{from_def_layout:!0}));delete d.state.from_def_layout;return d});return function(a,b){return c.apply(this,arguments)}}()},def_layout_view:{x_level:">2",x_icons:"idea",x_text_contains:"layout:",hint:"Contenedor flexible, layout:flex o layout:wrap",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});
var f="flex",c=6;""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note.trim()," --\x3e"));d.text.contains(":wrap")&&(f="wrap");var l=e("def_layout_view",d);d=m({},l);l.width&&(c=l.width,l.width.contains("%")&&(c=Math.round(12*parseInt(l.width.replaceAll("%",""))/100)),delete l.width);l[":width"]&&delete l[":width"];d.margen&&"true"==d.margen?(delete l.margen,d.center&&"true"==d.center?(b.open+="<v-container fill-height>\n",b.open=a.x_state.es6?b.open+"<v-row wrap align-center>\n":b.open+"<v-layout row wrap align-center>\n"):
"flex"==f?(b.open+="<v-container>\n",l.row=null,b.open+=a.tagParams("v-layout",l,!1)+"\n"):"wrap"==f&&(b.open=a.x_state.es6?b.open+"<v-container fill-height container--fluid grid-list-xl>\n":b.open+"<v-container fill-height fluid grid-list-xl>\n",l.wrap=null,b.open+=a.tagParams("v-layout",l,!1)+"\n"),"flex"==f&&d.center&&"true"==d.center&&(l.xs12=null,l["sm"+c]=null,l["offset-sm"+Math.round(c/2)]=null,b.open+=a.tagParams("v-flex",l,!1)+"\n",b.close+="</v-flex>"),b.close=a.x_state.es6&&d.center&&"true"==
d.center?b.close+"</v-row>\n":b.close+"</v-layout>\n",b.close+="</v-container>\n"):(d.center&&"true"==d.center?(delete l.center,a.x_state.es6?(l=m(m({},l),{wrap:null,"align-center":null}),b.open+=a.tagParams("v-row",l,!1)+"\n"):(l=m(m({},l),{row:null,wrap:null,"align-center":null}),b.open+=a.tagParams("v-layout",l,!1)+"\n")):b.open+="<v-layout wrap>\n","flex"==f&&d.center&&"true"==d.center&&(delete l.center,l.xs12=null,l["sm"+c]=null,l["offset-sm"+Math.round(c/2)]=null,b.open+=a.tagParams("v-flex",
l,!1)+"\n",b.close+="</v-flex>"),b.close=a.x_state.es6&&d.center&&"true"==d.center?b.close+"</v-row>":b.close+"</v-layout>");return b});return function(a,b){return c.apply(this,arguments)}}()},def_layout_contenido:{x_level:3,x_icons:"idea",x_text_contains:"contenido",x_all_hasparent:"def_layout",hint:"Placeholder para contenidos de paginas en pantallas tipo layouts",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f={};""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note,
" --\x3e"));a.x_state.central_config["keep-alive"]&&(f["keep-alive"]=null);b.open+=a.tagParams("nuxt",f,!0)+"\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_componente:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help,idea",x_text_contains:"componente:",x_empty:"icons",hint:"Archivo vue tipo componente",func:function(){var c=k(function*(d,b){a.reply_template({state:b});d=yield a.x_commands.def_page.func(d,m(m({},b),{from_def_componente:!0}));delete d.state.from_def_componente;
return d});return function(a,b){return c.apply(this,arguments)}}()},def_componente_view:{x_level:">2",x_icons:"idea",x_text_contains:"componente:",hint:"Instancia de componente",func:function(){var c=k(function*(d,b){var f=a.reply_template({state:b}),c=d.text.trim().split(":").pop(),l="c-".concat(c),h=c.replaceAll("-","");a.x_state.pages[b.current_page].imports["~/components/".concat(c,".vue")]=h;a.x_state.pages[b.current_page].components[l]=h;b=e("def_componente_view",d);""!=d.text_note&&(f.open=
"\x3c!-- ".concat(d.text_note.trim()," --\x3e\n"));f.open+=a.tagParams(l,b,!1)+"\n";f.close="</".concat(l,">\n");return f});return function(a,b){return c.apply(this,arguments)}}()},def_componente_emitir:{x_level:">2",x_icons:"desktop_new",x_text_contains:"llamar evento|emitir evento",x_all_hasparent:"def_componente",hint:"Emite un evento desde el componente a sus instancias",func:function(){var e=k(function*(d,b){b=a.reply_template({state:b});var f=a.dsl_parser.findVariables({text:d.text,symbol:'"',
symbol_closing:'"'}).trim(),n=[];Object.keys(d.attributes).map(function(a){var b=d.attributes[a];b.contains("**")&&d.icons.includes("bell")?b=c(b):"true"==b||"false"==b?(b="true"==b?!0:b,b="false"==b?!1:b):b.contains("$")?b=b.replaceAll("$variables.","this.").replaceAll("$vars.","this.").replaceAll("$params.","this.").replaceAll("$config.","process.env").replaceAll("$store.","this.$store.state."):0==b.contains("this.")&&0==b.contains("'")&&(b="'".concat(b,"'"));n.push("".concat(a,": ").concat(b))});
""!=d.text_note&&(b.open="// ".concat(d.text_note.trim(),"\n"));b.open+="this.$emit('".concat(f,"',{").concat(n.join(","),"});\n");return b});return function(a,b){return e.apply(this,arguments)}}()},def_card:{x_level:">2",x_icons:"idea",x_text_contains:"card",x_not_text_contains:":text,:texto,:title,:action,:image,:media",attributes_aliases:{width:"width,ancho",height:"height,alto"},hint:"Card de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open=
"\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_card",d);b.open+=a.tagParams("v-card",d,!1)+"\n";b.close+="</v-card>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_card_title:{x_level:">3",x_icons:"idea",x_text_contains:"card:title",x_all_hasparent:"def_card",hint:"Titulo de card de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_card_title",d);b.open+=a.tagParams("v-card-title",
d,!1)+"\n";b.close+="</v-card-title>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_card_text:{x_level:">3",x_icons:"idea",x_text_contains:"card:text",x_all_hasparent:"def_card",hint:"Contenido de card de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_card_text",d);b.open+=a.tagParams("v-card-text",d,!1)+"\n";b.close+="</v-card-text>\n";return b});return function(a,
b){return c.apply(this,arguments)}}()},def_card_actions:{x_level:">3",x_icons:"idea",x_text_contains:"card:action",x_all_hasparent:"def_card",hint:"Acciones de card de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_card_actions",d);b.open+=a.tagParams("v-card-actions",d,!1)+"\n";b.close+="</v-card-actions>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_card_media:{x_level:">3",
x_icons:"idea",x_text_contains:"card:media",x_all_hasparent:"def_card",hint:"Contenido multimedia para card de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_card_media",d);a.x_state.es6?(b.open+=a.tagParams("v-img",d,!1)+"\n",b.close+="</v-img>\n"):(b.open+=a.tagParams("v-card-media",d,!1)+"\n",b.close+="</v-card-media>\n");return b});return function(a,b){return c.apply(this,arguments)}}()},
def_form:{x_level:">2",x_icons:"idea",x_text_contains:"form",attributes_aliases:{"v-model":"valid,value"},hint:"Formulario de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=e("def_form",d);b.open+=a.tagParams("v-form",d,!1)+"\n";b.close+="</v-form>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_form_field:{x_level:">2",x_icons:"pencil",x_not_icons:"calendar,clock,attach,freemind_butterfly",
x_not_text_contains:"google:",attributes_aliases:{placeholder:"hint,ayuda",mark:"mask,mascara,formato","prepend-icon":"pre:icon","append-icon":"post:icon",type:"type,tipo",value:"value,valor",counter:"counter,maxlen,maxlength,max"},hint:"Campo de entrada (text,textarea,checkbox,radio,combo,select,switch,toogle,autocomplete) para usar en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f={};""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));
var c=e("def_form_field",d);f=m(m({},{type:"text"}),c);c.refx=d.id;d.text.contains("$")?(d=d.text.trim().split(",").pop(),d=d.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."),c["v-model"]=d):c["v-model"]=d.text.trim();delete c.type;if("text"==f.type)a.x_state.es6&&(c[":mask"]?(c["v-mask"]=c[":mask"],delete c[":mask"]):c.mask&&(c["v-mask"]="'".concat(c.mask,"'"),delete c.mask)),b.open+=a.tagParams("v-text-field",c,!1)+"\n",b.close+=
"</v-text-field>\n";else if("combo"==f.type)b.open+=a.tagParams("v-combobox",c,!1)+"\n",b.close+="</v-combobox>\n";else if("toogle"==f.type)b.open+=a.tagParams("v-btn-toogle",c,!1)+"\n",b.close+="</v-btn-toogle>\n";else if(["textarea","checkbox","radio","switch"].includes(f.type))b.open+=a.tagParams("v-".concat(f.type),c,!1)+"\n",b.close+="</v-".concat(f.type,">\n");else if(["autocomplete","autocompletar","auto","select"].includes(f.type)){if("item-text"in c&&c["item-text"].contains("{{")){var l=
c["item-text"];a.dsl_parser.findVariables({text:c["item-text"],symbol:"{{",symbol_closing:"}}",array:!0}).map(a=>{l.replaceAll(a,"item.".concat(a.trim()))});"{{ "==l.slice(0,3)&&(l=l.slice(3));l=" }}"==l.slice(-3)?l.slice(0,-3):l+"'";l=l.replaceAll(" }}","+'").replaceAll("{{ ","'+");c[":item-text"]="(item)=>".concat(l);delete c["item-text"]}else if("item-text"in c&&c["item-text"].contains(" ")){var h=[];c["item-text"].split(" ").map(a=>{h.push("item.".concat(a))});c[":item-text"]="(item)=>"+h.join("+' '+");
delete c["item-text"]}if("item-value"in c&&c["item-value"].contains(" ")){var g=[];c["item-value"].split(" ").map(a=>{g.push("item.".concat(a))});c[":item-value"]="(item)=>"+g.join("+' '+");delete c["item-value"]}["autocomplete","autocompletar","auto"].includes(f.type)?(b.open+=a.tagParams("v-autocomplete",c,!1)+"\n",b.close+="</v-autocomplete>\n"):"select"==f.type&&(!1==="item-value"in c&&!1==="return-object"in c&&!1===":return-object"in c&&(c[":return-object"]=!0),b.open+=a.tagParams("v-select",
c,!1)+"\n",b.close+="</v-select>\n")}return b});return function(a,b){return c.apply(this,arguments)}}()},def_form_field_image:{x_level:">2",x_icons:"pencil,attach",x_not_icons:"calendar,clock,freemind_butterfly",x_not_text_contains:"google:",hint:"Campo de entrada de imagen (subir imagen) para usar en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=e("def_form_field",d);f.refx=d.id;"-"!=
d.text.trim()&&(d.text.contains("$")?(d=d.text.trim().split(",").pop(),d=d.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."),f[":prefill"]=d):f.prefill=d.text.trim());f[":removable"]=!1;f[":hideChangeButton"]=!0;a.x_state.plugins["vue-picture-input"]={global:!0,npm:{"vue-picture-input":"*"},tag:"picture-input"};f.type&&delete f.type;b.open+=a.tagParams("picture-input",f,!1)+"\n";b.close="</picture-input>\n";return b});return function(a,
b){return c.apply(this,arguments)}}()},def_form_field_galery:{x_level:">2",x_icons:"pencil,freemind_butterfly",x_not_icons:"calendar,clock,attach",x_not_text_contains:"google:",hint:"Campo de entrada de galeria de imagenes (elegir una o varias imagenes) para usar en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=e("def_form_field_galery",d);f.refx=d.id;if(""!=d.text.trim()){var c=d.text.trim();
d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."));f["@onselectimage"]="(item)=>".concat(c,"=[item]");f["@onselectmultipleimage"]="(item)=>".concat(c,"=item");f[":selectedImages"]=c}a.x_state.plugins["vue-picture-input"]={global:!0,npm:{"vue-select-image":"*"},tag:"vue-select-image",requires:["vue-select-image/dist/vue-select-image.css"]};f.type&&delete f.type;b.open+=a.tagParams("vue-select-image",
f,!1)+"\n";b.close="</vue-select-image>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_form_field_date:{x_level:">2",x_icons:"pencil,calendar",x_not_icons:"clock,attach,freemind_butterfly",x_not_text_contains:"google:",hint:"Campo de entrada con selector de fecha (sin hora) para usar en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=e("def_form_field_date",
d);if(""!=d.text.trim()){var c=d.text.trim();d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."));f["v-model"]=c}a.x_state.npm.luxon="*";a.x_state.plugins["vue-datetime"]={global:!0,npm:{"vue-datetime":"*"}};f.type="date";b.open+=a.tagParams("datetime",f,!1)+"\n";b.close="</datetime>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_form_field_datetime:{x_level:">2",
x_icons:"pencil,calendar,clock",x_not_icons:"attach,freemind_butterfly",x_not_text_contains:"google:",hint:"Campo de entrada con selector de fecha y hora para usar en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=e("def_form_field_datetime",d);if(""!=d.text.trim()){var c=d.text.trim();d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.",
"").replaceAll("$store","$store.state."));f["v-model"]=c}a.x_state.plugins["vuetify-datetime-picker"]={global:!0,npm:{"vuetify-datetime-picker":"2.0.3"},styles:[{file:"dtpicker.styl",lang:"styl",content:"@require '~vuetify-datetime-picker/src/stylus/main.styl'"}]};f.type&&delete f.type;b.open+=a.tagParams("v-datetime-picker",f,!1)+"\n";b.close="</v-datetime-picker>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_form_google_autocomplete:{x_level:">2",x_icons:"pencil",x_text_contains:"google:autocomplet",
attributes_aliases:{apiKey:"key,llave",language:"lang,language,lenguaje",id:"id",placeholder:"hint,ayuda"},hint:"Campo autocompletar para direcciones en formulario vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f={language:"es"},c=e("def_form_google_autocomplete",d);c.apiKey&&(f.apiKey=c.apiKey,delete c.apiKey);c.language&&(f.language=c.language,delete c.language);a.x_state.plugins["vuetify-google-autocomplete"]={global:!0,npm:{"vuetify-google-autocomplete":"*"},
config:JSON.stringify(f)};""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));b.open+=a.tagParams("vuetify-google-autocomplete",c,!1)+"\n";b.close="</vuetify-google-autocomplete>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_margen:{x_icons:"idea",x_text_contains:"margen",hint:"Define un margen alrededor del contenido",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f={};Object.keys(d.attributes).map(function(a){var b=d.attributes[a];
b=b.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.","$store.state.");if("props"==a.toLowerCase())for(var c of b.split(","))f[c]=null;else f[a]=b});b.open+=a.tagParams("v-container",f,!1)+"\n";b.close+="</v-container>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_contenedor:{x_icons:"idea",x_text_contains:"contenedor",x_level:">2",hint:"Vue Container",func:function(){var c=k(function*(d,
b){b=a.reply_template({state:b});var f={refx:d.id};Object.keys(d.attributes).map(function(a){var b=d.attributes[a],c=a.toLowerCase().trim(),e=b.toString().replaceAll("$variables","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$env.","process.env.").replaceAll("$store.","$store.state.").trim();if("props"==c)for(var g of e.split(","))f[g]=null;else":"!=c.charAt(0)&&""!=b&&b!=e?f[":"+a.trim()]=e:f[a.trim()]=e}.bind(this));""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e\n"));
b.open+=a.tagParams("v-container",f,!1)+"\n";b.close="</v-container>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_flex:{x_icons:"idea",x_text_contains:"flex",x_not_text_contains:":",hint:"Columna de ancho flexible",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var f={refx:d.id};""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));Object.keys(d.attributes).map(function(a){var b=d.attributes[a],c=a.toLowerCase().trim(),e=b.toString().replaceAll("$variables",
"").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$env.","process.env.").replaceAll("$store.","$store.state.").trim(),g=0;-1!=e.indexOf("%")&&(e=parseInt(e.replaceAll("%","").trim()),g=Math.round(12*e/100));if("class"==c)f.class=e;else if("props"==c)for(var n of e.split(","))f[n]=null;else["padding","margen"].includes(c)?f["pa-"+e]=null:"ancho"==c?f=m(m({},f),v("xs-".concat(g,",sm-").concat(g,",md-").concat(g,",lg-").concat(g),null)):"offset"==c?f=m(m({},f),v("offset-xs-".concat(g,
",offset-sm-").concat(g,",offset-md-").concat(g,",offset-lg-").concat(g),null)):["muy chico","movil","small","mobile"].includes(c)?f["xs".concat(g)]=null:["chico","tablet","small","tableta"].includes(c)?f["sm".concat(g)]=null:["medio","medium","average"].includes(c)?f["md".concat(g)]=null:["grande","pc","desktop","escritorio"].includes(c)?f["lg".concat(g)]=null:"xfila:grande xfila:pc xfila:desktop pc escritorio xfila:escritorio".split(" ").includes(c)?f["lg".concat(Math.round(12/e))]=null:["xfila:medio",
"xfila:tablet","tablet","xfila"].includes(c)?f["md".concat(Math.round(12/e))]=null:["xfila:chico","xfila:movil","xfila:mobile"].includes(c)?f["sm".concat(Math.round(12/e))]=null:["xfila:muy chico","xfila:movil chico","xfila:small mobile"].includes(c)?f["xs".concat(Math.round(12/e))]=null:["muy chico:offset","movil:offset","small:offset","mobile:offset"].includes(c)?f["offset-xs".concat(Math.round(12/e))]=null:["chico:offset","tablet:offset","small:offset","tableta:offset"].includes(c)?f["offset-sm".concat(Math.round(12/
e))]=null:["medio:offset","medium:offset","average:offset"].includes(c)?f["offset-md".concat(Math.round(12/e))]=null:["grande:offset","pc:offset","desktop:offset","escritorio:offset","grande:left"].includes(c)?f["offset-lg".concat(Math.round(12/e))]=null:":"!=c.charAt(0)&&""!=b&&b!=e?f[":"+a.trim()]=e:f[a.trim()]=e});b.open+=a.tagParams("v-flex",f,!1)+"\n";b.close="</v-flex>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_spacer:{x_icons:"idea",x_text_contains:"spacer",
x_level:">2",hint:"Spacer es un espaciador flexible",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));b.open+=a.tagParams("v-spacer",{},!0)+"\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_progress:{x_icons:"idea",x_text_contains:"progres",x_level:">2",attributes_aliases:{"background-color":"background-color,background","background-opacity":"background-opacity,opacity","buffer-value":"max,max-value",
value:"value,valor",indeterminate:"loop,infinito",width:"width,ancho",size:"size,porte",rotate:"rotate,rotar"},hint:"Item de progreso",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var c="circular";""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var g=e("def_progress",d);Object.keys(g).map(function(a){"tipo"==a.toLowerCase()&&["lineal","linea","linear"].includes(g[a])?(c="linear",delete g[a]):"indeterminate"==a.toLowerCase()&&(g[":".concat(a)]=g[a],delete g[a])});
b.open+=a.tagParams("v-progress-".concat(c),g,!1)+"\n";b.close="</v-progress-".concat(c,">\n");return b});return function(a,b){return c.apply(this,arguments)}}()},def_dialog:{x_level:">2",x_icons:"idea",x_text_contains:"dialog",x_not_text_contains:"boton:",attributes_aliases:{width:"width,ancho","max-width":"max-width,ancho-max,max-ancho"},hint:"Dialogo de vuetify",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));
d=e("def_dialog",d);b.open+=a.tagParams("v-dialog",d,!1)+"\n";b.close+="</v-dialog>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_center:{x_icons:"idea",x_text_contains:"centrar",hint:"Centra nodos hijos",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var c={refx:d.id,class:"text-xs-center"};""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));b.open=a.tagParams("div",c,!1)+"<center>\n";b.close+="</center></div>\n";return b});return function(a,
b){return c.apply(this,arguments)}}()},def_html:{x_icons:"idea",x_text_contains:"html:",hint:"html:x, donde x es cualquier tag",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var c={refx:d.id};Object.keys(d.attributes).map(function(b){var f=d.attributes[b];f=f.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.","$store.state.");if("props"==b.toLowerCase())for(var e of f.split(","))c[e]=null;
else if(":"!=b.charAt(0)&&f!=d.attributes[b])c[":"+b]=f;else if("v-model"!=b)if(-1!=a.x_state.central_config.idiomas.indexOf(",")){e=a.x_state.central_config.idiomas.split(",")[0];a.x_state.strings_i18n[e]||(a.x_state.strings_i18n[e]={});var g="t_"+a.hash(f);a.x_state.strings_i18n[e][g]=f;c[":"+b]="$t('".concat(g,"')")}else c[b]=f;else c[b]=f}.bind(this));""!=d.text_note&&(b.open="\x3c!-- ".concat(d.text_note," --\x3e"));var e=d.text.replace("html:","");b.open+=a.tagParams(e,c,!1)+"\n";b.close+="</".concat(e,
">\n");return b});return function(a,b){return c.apply(this,arguments)}}()},def_textonly:{x_level:">2",x_empty:"icons",x_priority:-5,x_or_hasparent:"def_page,def_componente,def_layout",hint:"Texto a mostrar",func:function(){var c=k(function*(d,b){b=a.reply_template({state:b});var c={class:[]},e,g,h,k=d.text.replaceAll("$variables","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env.").replaceAll("$store.","$store.state.");""==k&&(k="&nbsp;");if(1==(yield a.hasParentID(d.id,
"def_toolbar"))&&0==(yield a.hasParentID(d.id,"def_slot")))b.valid=!1;else if(1==(yield a.hasParentID(d.id,"def_variables")))b.valid=!1;else if(1==(yield a.hasParentID(d.id,"def_page_estilos")))b.valid=!1;else if(1==(yield a.hasParentID(d.id,"def_page_estilos")))b.valid=!1;else{""!=d.text_note&&(b.open+="\x3c!-- ".concat(d.text_note," --\x3e\n"));if(-1!=d.text.indexOf("..lorem..")&&-1!=d.text.indexOf(":")){var m=d.text.split(":");var q=m[m.length-1]}-1!=d.text.indexOf("numeral(")&&(a.x_state.plugins["vue-numeral-filter"]=
{global:!0,npm:{"vue-numeral-filter":"*"},config:"{ locale: 'es-es' }"});1==d.font.bold&&c.class.push("font-weight-bold");10<=d.font.size&&c.class.push("caption");1==d.font.italic&&c.class.push("font-italic");Object.keys(d.attributes).map(function(a){var b=a.toLowerCase().trim(),f=d.attributes[a];"class"==b?c.class.push(f):":span"==b?e=!0:":omit"==b?g=!0:[":length",":largo","len","length","largo"].includes(a)?q=f:"small"==a?h=!0:["ucase","mayusculas","mayuscula"].includes(a)?"true"!=f&&1!=f||c.class.push("text-uppercase"):
["capitales","capitalize","capital"].includes(a)?"true"!=f&&1!=f||c.class.push("text-capitalize"):["lcase","minusculas","minuscula"].includes(a)?"true"!=f&&1!=f||c.class.push("text-lowercase"):"truncate"==a?"true"!=f&&1!=f||c.class.push("text-truncate"):"no-wrap"==a?"true"!=f&&1!=f||c.class.push("text-no-wrap"):["weight","peso","grosor"].includes(a)?(a=f.toLowerCase(),["thin","fina","100"].includes(a)?c.class.push("font-weight-thin"):["light","300"].includes(a)?c.class.push("font-weight-light"):["regular",
"400"].includes(a)?c.class.push("font-weight-light"):["medium","500"].includes(a)?c.class.push("font-weight-medium"):["bold","700"].includes(a)?c.class.push("font-weight-bold"):["black","gruesa","900"].includes(a)&&c.class.push("font-weight-black")):"color"==a?-1!=a.indexOf(" ")?(a=f.split(" "),c.class.push("".concat(a[0],"--text text--").concat(a[1]))):c.class.push("".concat(f,"--text")):"align"==a?(a=f.toLowerCase(),["center","centro","centrar"].includes(a)?c.class.push("text-xs-center"):["right",
"derecha"].includes(a)?c.class.push("text-xs-right"):["left","izquierda","izquierdo"].includes(a)?c.class.push("text-xs-left"):["justify","justificar","justificado"].includes(a)&&(c.style=c.style?c.style.split(";").push("text-align: justify; text-justify: inter-word;").join(";"):"text-align: justify; text-justify: inter-word;")):"style"==a?(c.style||(c.styles=[]),c.styles.push(f)):":"!=a.charAt(0)&&""!=d.text&&k!=d.text?c[":"+a]=f:c[a]=f});q&&(m=require("lorem-ipsum").loremIpsum,k=m({count:parseInt(q),
units:"words"}));h&&(k="<small>".concat(k,"</small>"));c.class=c.class.map(function(a){a.replaceAll("text-h1","display-4").replaceAll("text-h2","display-3").replaceAll("text-h3","display-2").replaceAll("text-h4","display-1").replaceAll("text-h5","headline").replaceAll("text-subtitle-1","subtitle-1").replaceAll("text-subtitle-2","subtitle-2").replaceAll("text-h6","title").replaceAll("text-body-1","body-1").replaceAll("text-body-2","body-2").replaceAll("text-caption","caption").replaceAll("text-overline",
"overline");return a});0<c.class.length&&(c.class=c.class.join(" "));c.style&&(c.styles=c.styles.join(";"));g||(a.hasParentID(d.id,"def_textonly")||e?b.open+=a.tagParams("span",c)+k+"</span>\n":a.hasParentID(d.id,"def_card_title")&&!c.class?b.open+=k+"\n":b.open+=a.tagParams("div",c)+k+"</div>\n")}return b});return function(a,b){return c.apply(this,arguments)}}()},def_avatar:{x_level:">2",x_icons:"idea",x_text_contains:"avatar",x_not_text_contains:"fila",hint:"Imagen con mascara redondeada",func:function(){var c=
k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));c=e("def_avatar",c);var d={};c.src&&(d.src=c.src,delete c.src);c[":src"]&&(d[":src"]=c[":src"],delete c[":src"]);b.open+=a.tagParams("v-avatar",c,!1)+"\n";b.open+=a.tagParams("v-img",d,!0)+"\n";b.close+="</v-avatar>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_boton:{x_level:">2",x_icons:"idea",x_text_contains:"boton:",hint:"Boton de vuetify",func:function(){var c=
k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));var d=e("def_boton",c);if(d.scrollto){a.x_state.plugins["vue-scrollto"]={global:!0,npm:{"vue-scrollto":"*"}};if(d.scrollto.contains(",")){var g=d.scrollto.split(",")[0],l=d.scrollto.split(",").pop().trim();d["v-scroll-to"]="{ element:'".concat(g,"', offset:").concat(l,", cancelable:false }")}else d["v-scroll-to"]="{ element:'".concat(d.scrollto,"', cancelable:false }");delete d.scrollto}d.text&&
null==d.text&&(d.flat=null,delete d.text);d.rounded&&null==d.rounded&&(d.round=null,delete d.rounded);c=c.text.trim().replaceAll("boton:","");-1!=a.x_state.central_config.idiomas.indexOf(",")?(g=a.x_state.central_config.idiomas.split(",")[0],a.x_state.strings_i18n[g]||(a.x_state.strings_i18n[g]={}),l="t_"+a.hash(c),a.x_state.strings_i18n[g][l]=c,c="{{ $t('".concat(l,"') }}")):c.contains("$")&&c.contains("{{")&&c.contains("}}")&&(c=c.replaceAll("$params.","").replaceAll("$variables.","").replaceAll("$vars.",
"").replaceAll("$store.","$store.state."));b.open+=a.tagParams("v-btn",d,!1)+c+"\n";b.close+="</v-btn>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_chip:{x_level:">2",x_icons:"idea",x_text_contains:"chip:",hint:"Chip de vuetify",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));var d=e("def_chip",c);c=c.text.trim().replaceAll("chip:","");if(-1!=a.x_state.central_config.idiomas.indexOf(",")){var g=
a.x_state.central_config.idiomas.split(",")[0];a.x_state.strings_i18n[g]||(a.x_state.strings_i18n[g]={});var l="t_"+a.hash(c);a.x_state.strings_i18n[g][l]=c;c="{{ $t('".concat(l,"') }}")}else c.contains("$")&&c.contains("{{")&&c.contains("}}")&&(c=c.replaceAll("$params.","").replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$store.","$store.state."));b.open+=a.tagParams("v-chip",d,!1)+"".concat(c,"\n");b.close+="</v-chip>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},
def_menu:{x_level:">2",x_icons:"idea",x_text_contains:"menu",x_not_text_contains:":",hint:"Barra de contenido escondible para menu de vuetify",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));c=e("def_menu",c);c.visible&&(c["v-model"]=c.visible,delete c.visible);b.open+=a.tagParams("v-menu",c,!1)+"\n";b.close+="</v-menu>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_barralateral:{x_level:">2",
x_icons:"idea",x_text_contains:"lateral",x_not_text_contains:":",hint:"Barra lateral (normalmente para un menu) escondible de vuetify",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));c=e("def_barralateral",c);c.visible&&(c["v-model"]=c.visible,delete c.visible);b.open+=a.tagParams("v-navigation-drawer",c,!1)+"\n";b.close+="</v-navigation-drawer>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},
def_barrainferior:{x_level:">2",x_icons:"idea",x_text_contains:"inferior",x_not_text_contains:":",hint:"Barra inferior escondible de vuetify",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));c=e("def_barrainferior",c);c.visible&&(c["v-model"]=c.visible,delete c.visible);b.open+=a.tagParams("v-bottom-sheet",c,!1)+"\n";b.close+="</v-bottom-sheet>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},
def_contenido:{x_level:3,x_icons:"idea",x_text_exact:"contenido",x_or_hasparent:"def_page,def_componente",hint:"Contenido de pagina o componente vuetify",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));b.open+=a.tagParams("main",{},!1)+"\n";b.open+=a.tagParams("v-content",{},!1)+"\n";b.close+="</v-content>\n";b.close+="</main>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_toolbar:{x_level:">2",
x_icons:"idea",x_text_exact:"toolbar",attributes_aliases:{icon:"icon,icono"},hint:"Barra superior o toolbar vuetify que permite auto-alinear un titulo, botones, etc.",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));c=e("def_toolbar",c);if(c[":icon"]){var d="{{ ".concat(c[":icon"]," }}");delete c[":icon"]}else c.icon&&(d=c.icon.toLowerCase().trim(),delete c.icon);b.open+=a.tagParams("v-toolbar",c,!1)+"\n";d&&""!=
d?b.open+="<v-toolbar-side-icon><v-icon>".concat(d,"</v-icon></v-toolbar-side-icon>\n"):d&&""==d&&(b.open+="<v-toolbar-side-icon></<v-toolbar-side-icon>\n");b.close="</v-toolbar>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_toolbar_title:{x_level:">3",x_empty:"icons",x_all_hasparent:"def_toolbar",hint:"Titulo para nodo toolbar",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});""!=c.text_note&&(b.open="\x3c!-- ".concat(c.text_note," --\x3e"));var d=
e("def_toolbar_title",c);if(d.color){d.class||(d.class="");var g=d.class.split(" ");if(d.color.contains(" ")){var l=d.color.split(" ")[0],h=d.color.split(" ").pop();g.push("".concat(l,"--text text--").concat(h))}else g.push("".concat(d.color,"--text"));d.class=g.join(" ");delete d.color}c=c.text.trim();-1!=a.x_state.central_config.idiomas.indexOf(",")?(g=a.x_state.central_config.idiomas.split(",")[0],a.x_state.strings_i18n[g]||(a.x_state.strings_i18n[g]={}),l="t_"+a.hash(c),a.x_state.strings_i18n[g][l]=
c,c="{{ $t('".concat(l,"') }}")):c.contains("$")&&c.contains("{{")&&c.contains("}}")&&(c=c.replaceAll("$params.","").replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$store.","$store.state."));b.open+=a.tagParams("v-toolbar-title",d,!1)+c+"\n";b.close="</v-toolbar-title>\n";return b});return function(a,b){return c.apply(this,arguments)}}()},def_variables:{x_icons:"xmag",x_level:3,x_text_contains:"variables",hint:"Definicion local de variables observadas",func:function(){var c=k(function*(c,
b){c=a.reply_template({state:b});"undefined"!==typeof b.current_page&&("undefined"===typeof a.x_state.pages[b.current_page]&&(a.x_state.pages[b.current_page]={}),!1==="variables"in a.x_state.pages[b.current_page]&&(a.x_state.pages[b.current_page].variables={}),!1==="types"in a.x_state.pages[b.current_page]&&(a.x_state.pages[b.current_page].types={}));return c});return function(a,b){return c.apply(this,arguments)}}()},def_variables_field:{x_priority:1,x_empty:"icons",x_level:">3",x_all_hasparent:"def_variables",
hint:"Campo con nombre de variable observada y tipo",func:function(){var c=k(function*(c,b){var d=a.reply_template({state:b}),e={},g="string",h=c.text.trim(),k=c.level-3;if(h.contains("[")&&h.contains("]")||h.contains("{")&&h.contains("}"))g="script",h="script".concat(c.id);else if(h.contains(":"))g=h.split(":").pop().toLowerCase().trim(),h=h.split(":")[0].trim();else if(c.nodes_raw&&0<c.nodes_raw.length){var m=yield c.getNodes(),q=!1,p;for(p of m)p.icons.includes("help")&&(q=!0);0==q&&(g="object")}else g=
"string";Object.keys(c.attributes).map(function(b){var d=b.toLowerCase().trim(),f=c.attributes[b];["type","tipo",":type",":tipo"].includes(d)?g=f.toLowerCase().trim():["valor","value",":valor",":value"].includes(d)?(b=f.replaceAll("$variables","this.").replaceAll("$vars.","this.").replaceAll("$params.","this.").replaceAll("$config.","process.env.").replaceAll("$store.","this.$store.state."),"{now}"==b.toLowerCase().trim()&&(b="new Date()"),b.contains("assets:")&&(b=a.getAsset(b,"js")),e.value=b):
d.contains(":")&&(e[b.trim()]=f.trim())});if(["string","text","texto"].includes(g))e.value=!1==="value"in e?"":e.value.toString();else if("script"==g){e.value=c.text.trim().replaceAll("&#xa;","").replaceAll("&apos;",'"').replaceAll("&#xf1;","\u00f1");"["!=e.value.charAt(0)&&(e.value="["+e.value+"]");m=require("safe-eval");try{e.value=m(e.value)}catch(y){e.value=[{error_in_script_var:y}]}}else["int","numeric","number","numero"].includes(g)?e.value=!1==="value"in e?0:parseInt(e.value):["float","real",
"decimal"].includes(g)?e.value=!1==="value"in e?0:parseFloat(e.value):["boolean","boleano","booleano"].includes(g)?!1==="value"in e?e.value="true"==h?!0:!1:"true"==e.value?e.value=!0:"false"==e.value&&(e.value=!1):["array"].includes(g)?(g="array",e.value=!1==="value"in e?[]:JSON.parse(e.value)):["struct","object"].includes(g)&&(g="object",e.value=!1==="value"in e?{}:JSON.parse(e.value));"undefined"!==typeof b.current_page&&(!1===b.current_page in a.x_state.pages&&(a.x_state.pages[b.current_page]=
{}),!1==="variables"in a.x_state.pages[b.current_page]&&(a.x_state.pages[b.current_page].variables={}),!1==="var_types"in a.x_state.pages[b.current_page]&&(a.x_state.pages[b.current_page].var_types={}));if(1==k)a.x_state.pages[b.current_page].var_types[h]=g,a.x_state.pages[b.current_page].variables[h]=e.value,d.state.vars_path=[h],d.state.vars_types=[g];else{d.state.vars_last_level==k&&(d.state.vars_path.pop(),d.state.vars_types.pop());d.state.vars_path.push(h);if("object"==d.state.vars_types[d.state.vars_types.length-
1])w(a.x_state.pages[b.current_page].variables,e.value,d.state.vars_path.join("."));else if("array"==d.state.vars_types[d.state.vars_types.length-1]){m=[...d.state.vars_path];m.pop();var r=z(a.x_state.pages[b.current_page].variables,m.join("."));"script"==g?e.value.map(a=>{r.push(a)}):h!=e.value?(q={},q[h]=e.value,r.push(q)):r.push(e.value);w(a.x_state.pages[b.current_page].variables,r,m.join("."))}d.state.vars_types.push(g);a.x_state.pages[b.current_page].var_types[d.state.vars_path.join(".")]=g}d.state.vars_last_level=
k;return d});return function(a,b){return c.apply(this,arguments)}}()},def_variables_watch:{x_icons:"help",x_level:">4",x_text_contains:"change",x_all_hasparent:"def_variables",hint:"Monitorea los cambios realizados a la variable padre",func:function(){var c=k(function*(c,b){b=a.reply_template({state:b});var d={name:c.text.trim(),type:"watched",oldvar:"old",newvar:"new"};Object.keys(c.attributes).map(function(a){var b=a.toLowerCase().trim();a=c.attributes[a];[":old","old"].includes(b)?d.oldvar=a:[":new",
"new"].includes(b)?d.newvar=a:[":deep","deep"].includes(b)&&(d.deep=a)});d.flat=b.state.vars_path.join(".");b.open=a.tagParams("vue_watched_var",d,!1);""!=c.text_note&&(b.open+="//".concat(c.text_note,"\n"));b.close="</vue_watched_var>";return b});return function(a,b){return c.apply(this,arguments)}}()},def_variables_func:{x_icons:"help",x_level:4,x_not_text_contains:":server,condicion si,otra condicion",x_all_hasparent:"def_variables",hint:"Variable tipo funcion",func:function(){var c=k(function*(c,
b){b=a.reply_template({state:b});var d={name:c.text.trim(),type:"computed"},e="async";Object.keys(c.attributes).map(function(a){var b=a.toLowerCase().trim().replaceAll(":","");a=c.attributes[a].trim();"default"==b?d.valor=a:["valor","value"].includes(b)?d.valor=a:"lazy"==b?d.lazy="true"==a?!0:!1:"observar onchange cambie cambien modifiquen cuando monitorear watch".split(" ").includes(b)?d.watch=a:"async"==b&&(e="true"==a?"async":"sync")});"async"==e?(a.x_state.plugins["vue-async-computed"]={global:!0,
npm:{"vue-async-computed":"*"}},b.open=a.tagParams("vue_async_computed",d,!1),""!=c.text_note&&(b.open+="//".concat(c.text_note,"\n")),b.close="</vue_async_computed>\n"):(b.open=a.tagParams("vue_computed",d,!1),""!=c.text_note&&(b.open+="//".concat(c.text_note,"\n")),b.close="</vue_computed>\n");return b});return function(a,b){return c.apply(this,arguments)}}()},def_responder:{x_icons:"desktop_new",x_text_contains:"responder",x_not_text_contains:"traducir,struct,extender",x_all_hasparent:"def_variables",
x_level:">3",hint:"Emite una respuesta para la variable de tipo funcion",func:function(){var e=k(function*(d,b){b=a.reply_template({state:b});""!=d.text_note&&(b.open="//".concat(d.text_note,"\n"));var f=a.dsl_parser.findVariables({text:d.text,symbol:'"',symbol_closing:'"'});f.contains("**")&&d.icons.includes("bell")?(d=c(f),b.open+="return ".concat(d,";\n")):f.contains("$")?(f=f.replaceAll("$params.","this.").replaceAll("$variables.","this."),b.open+="return ".concat(f,";\n")):f.contains("assets:")?
(f=a.getAsset(f,"js"),b.open+="return ".concat(f,";\n")):""==f?b.open+="return '';\n":"("==f.charAt(0)&&")"==f.slice(-1)?(f=f.slice(1).slice(0,-1),b.open+="return ".concat(f,";\n")):a.x_state.central_config.idiomas&&a.x_state.central_config.idiomas.contains(",")||(b.open+="return '".concat(f,"';\n"));return b});return function(a,b){return e.apply(this,arguments)}}()},def_struct:{x_icons:"desktop_new",x_text_contains:"struct",x_not_text_contains:"traducir",x_level:">3",hint:"Crea una variable de tipo Objeto, con los campos y valores definidos en sus atributos.",
func:function(){var e=k(function*(d,b){b=a.reply_template({state:b});if(d.text.contains(",")){var f=d.text.split(",").pop();if(a.hasParentID(d.id,"def_event_server")){f=f.replaceAll("$variables.","resp.").replaceAll("$vars.","resp.").replaceAll("$params.","resp.");f="resp."==f?"resp":f;var e=!0}else f=f.replaceAll("$variables.","this.").replaceAll("store.","this.$store.state."),f="this."==f?"this":f;var g=m({},d.attributes);Object.keys(d.attributes).map(function(b){b.toLowerCase().trim();var f=d.attributes[b].trim();
f=d.icons.includes("bell")?c(f):f.contains("assets:")?a.getAsset(f,"jsfunc"):e?f.replaceAll("$variables.","resp.").replaceAll("$vars.","resp.").replaceAll("$params.","resp."):f.replaceAll("$variables.","this.").replaceAll("$vars.","this.").replaceAll("$params.","this.").replaceAll("$store.","this.$store.state.");g[b]=f});""!=d.text_note&&(b.open="// ".concat(d.text_note,"\n"));b.open+="var ".concat(f.trim()," = ").concat(JSON.stringify(g),";\n")}else b.valid=!1;return b});return function(a,b){return e.apply(this,
arguments)}}()}}});return t.apply(this,arguments)}function v(a,g){var c=a;if("string"===typeof c){c={};a=a.split(",");for(var e in a)c[a[e]]=g}else for(var h in c)c[h]=g;return c}function w(a,g,c){var e;c=c.split(".");for(e=0;e<c.length-1;e++)a=a[c[e]];a[c[e]]=g}function z(a,g){return g.split(".").reduce((a,e)=>a[e],a)}String.prototype.replaceAll=function(a,g){a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.replace(new RegExp(a,"ig"),g)};String.prototype.contains=function(a){return-1!=this.indexOf(a)?
!0:!1};var A=require("concepto");class B extends A{constructor(a){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};g=m(m({},{class:"vue",debug:!0}),g);super(a,g)}onInit(){var a=this;return k(function*(){yield a.addCommands(x);a.x_console.outT({message:"".concat(Object.keys(a.x_commands).length," local x_commands loaded!"),color:"green"});a.x_crypto_key=require("crypto").randomBytes(32);a.x_state={plugins:{},npm:{},dev_npm:{},envs:{},functions:{},proxies:{},pages:{},current_func:"",
current_folder:"",current_proxy:"",strings_i18n:{},stores:{},stores_types:{versions:{},expires:{}},nuxt_config:{head_script:{},build_modules:{},modules:{}}};a.x_state.config_node=yield a._readConfig();a.x_state.central_config=yield a._readCentralConfig();a.x_state.assets=yield a._readAssets();a.x_state.dirs=a.x_state.central_config.componente?yield a._appFolders({components:"",pages:"",assets:"assets/","static":"static/",umd:"umd/"}):yield a._appFolders({client:"client/",layouts:"client/layouts/",
components:"client/components/",pages:"client/pages/",plugins:"client/plugins/","static":"client/static/",middleware:"client/middleware/",server:"client/server/",assets:"client/assets/",css:"client/assets/css/",store:"client/store/",lang:"client/lang/"});a.x_state.models=yield a._readModelos();a.x_state.nuxt_is_running=yield a._isLocalServerRunning();a.debug("is Server Running: "+a.x_state.nuxt_is_running);if("latest"==a.x_state.central_config.nuxt&&0==a.atLeastNode("10"))throw Error("You need to have at least Node v10+ to use latest Nuxt/Vuetify version!");
a.x_state.es6="latest"==a.x_state.central_config.nuxt?!0:!1;if(a.x_state.config_node.copiar){var g=require("path"),c=require("recursive-copy");a.x_console.outT({message:"copying config:copiar directories to 'static' target folder",color:"yellow"});yield Object.keys(a.x_state.config_node.copiar).map(function(){var a=k(function*(a){a=g.join(this.x_state.dirs.base,a);try{yield c(a,this.x_state.dirs.static)}catch(l){"EEXIST"!=l.code&&this.x_console.outT({message:"error: copying directory ".concat(a),
data:l})}});return function(b){return a.apply(this,arguments)}}().bind(a));a.x_console.outT({message:"copying config:copiar directories ... READY",color:"yellow"})}if(a.x_state.config_node["nuxt:icon"]){a.x_state.npm["@nuxtjs/pwa"]="*";var e=require("path").join(a.x_state.dirs.base,a.x_state.config_node["nuxt:icon"]),h=a.x_state.dirs.static+"icon.png";a.debug({message:"NUXT ICON dump (copy icon)",color:"yellow",data:e});var d=require("fs").promises;try{yield d.copyFile(e,h)}catch(f){a.x_console.outT({message:"error: copying NUXT icon",
data:f})}}a.x_state.config_node["google:adsense"]&&(a.x_state.npm["vue-google-adsense"]="*",a.x_state.npm["vue-script2"]="*");a.x_state.config_node["google:analytics"]&&(a.x_state.npm["@nuxtjs/google-gtag"]="*");"latest"==a.x_state.central_config.nuxt&&(a.x_state.plugins["v-mask"]={global:!0,npm:{"v-mask":"*"},customcode:"import Vue from 'vue';\nimport VueMask from 'v-mask';\nVue.directive('mask', VueMask.VueMaskDirective);\nVue.use(VueMask);",dev_npm:{}});a.x_state.central_config.componente?(a.x_console.outT({message:"vue initialized() -> as component/plugin"}),
a.x_state.npm.global="^4.4.0",a.x_state.npm.poi="9",a.x_state.npm.underscore="*",a.x_state.dev_npm["@vue/test-utils"]="^1.0.0-beta.12",a.x_state.dev_npm["babel-core"]="^6.26.0",a.x_state.dev_npm["babel-preset-env"]="^1.6.1",a.x_state.dev_npm.jest="^22.4.0",a.x_state.dev_npm["jest-serializer-vue"]="^0.3.0",a.x_state.dev_npm.vue="*",a.x_state.dev_npm["vue-jest"]="*",a.x_state.dev_npm["vue-server-renderer"]="*",a.x_state.dev_npm["vue-template-compiler"]="*"):(a.x_console.outT({message:"vue initialized() ->"}),
a.x_state.plugins["vue-moment"]={global:!0,npm:{"vue-moment":"*"},extra_imports:["moment"],requires:["moment/locale/es"],config:"{ moment }"},a.x_state.npm["@nuxtjs/axios"]="*",a.x_state.npm.nuxt="latest"==a.x_state.central_config.nuxt?"*":"2.11.0",a.x_state.npm.express="*",a.x_state.npm["serverless-http"]="*",a.x_state.npm["serverless-apigw-binary"]="*",a.x_state.npm.underscore="*",a.x_state.dev_npm["serverless-prune-plugin"]="*",a.x_state.dev_npm["serverless-offline"]="*",a.x_state.dev_npm["vue-beautify-loader"]=
"*",a.x_state.central_config.dominio&&(a.x_state.dev_npm["serverless-domain-manager"]="*"));e=function(b){["aurora","vpc","aws"].includes(b)&&"object"===typeof a.x_state.config_node[b]&&Object.keys(a.x_state.config_node[b]).map(function(a){this.x_state.envs["config.".concat(b,".").concat(a)]="process.env.".concat((b+"_"+a).toUpperCase())}.bind(a))};for(var b in a.x_state.config_node)e(b)})()}onAfterProcess(a){return k(function*(){return a})()}onDefineTitle(a){var g=this;return k(function*(){var c=
a.text;Object.keys(a.attributes).map(function(e){if("title"==e||"titulo"==e)return c=a.attributes[e],!1}.bind(g));return c})()}onDefineFilename(a){var g=this;return k(function*(){var c=a.text;c=c.replace(/ /g,"_")+".vue";a.icons.includes("gohome")?c=1==g.x_state.central_config.componente&&g.x_state.central_config.service_name?g.x_state.central_config.service_name+".vue":"index.vue":a.icons.includes("desktop_new")?-1!=a.text.indexOf("assets")?c="internal_assets.omit":-1!=a.text.indexOf("store")?c=
"internal_stores.omit":-1!=a.text.indexOf("proxy")||-1!=a.text.indexOf("proxies")?c="internal_middleware.omit":-1!=a.text.indexOf("config")?c="config.omit":-1!=a.text.indexOf("modelos")?c="modelos.omit":["servidor","server","api"].includes(a.text)&&(c="server.omit"):-1!=a.text.indexOf("componente:")?c=a.text.split(":")[a.text.split(":").length-1]+".vue":-1!=a.text.indexOf("layout:")&&(c=a.text.split(":")[a.text.split(":").length-1]+".vue");return c})()}onDefineNodeName(a){return k(function*(){return a.text.replace(" ",
"_")})()}onCompleteCodeTemplate(a){return k(function*(){return a})()}onPrepare(){var a=this;return k(function*(){if(!a.x_state.central_config.componente&&a.x_state.central_config.deploy&&-1!=a.x_state.central_config.deploy.indexOf("eb:")){var g=require("ini"),c=require("path"),e=require("fs").promises,h=require("os"),d="";h=c.join(h.homedir(),"/.aws/")+"credentials";try{d=yield e.readFile(h,"utf-8")}catch(b){}a.x_state.config_node.aws?(""!=d&&(c=c.join(a.x_state.dirs.base,"aws_backup.ini"),a.x_console.outT({message:"config:aws:creating .aws/credentials backup",
color:"yellow"}),yield e.writeFile(c,d,"utf-8")),a.x_console.outT({message:"config:aws:access ->".concat(a.x_state.config_node.aws.access)}),a.x_console.outT({message:"config:aws:secret ->".concat(a.x_state.config_node.aws.secret)}),g=g.stringify({aws_access_key_id:a.x_state.config_node.aws.access,aws_secret_access_key:a.x_state.config_node.aws.secret},{section:"default"}),a.debug("Setting .aws/credentials from config node"),yield e.writeFile(h,g,"utf-8")):""!=d&&(e=g.parse(d),e.default&&a.debug("Using local system AWS credentials",
e.default),a.x_state.config_node.aws={access:"",secret:""},e.default.aws_access_key_id&&(a.x_state.config_node.aws.access=e.default.aws_access_key_id),e.default.aws_secret_access_key&&(a.x_state.config_node.aws.secret=e.default.aws_secret_access_key))}})()}onErrors(a){return k(function*(){})()}generalConfigSetup(){var a=this;return k(function*(){a.debug("Setting general configuration steps");a.debug("Defining nuxt.config.js : initializing");a.debug("Defining nuxt.config.js : default modules");a.x_state.nuxt_config.modules["@nuxtjs/axios"]=
{};a.x_state.config_node["google:analytics"]&&(a.debug("Defining nuxt.config.js : Google Analytics"),a.x_state.nuxt_config.build_modules["@nuxtjs/google-gtag"]={id:a.x_state.config_node["google:analytics"].id,debug:!0,disableAutoPageTrack:!0},a.x_state.config_node["google:analytics"].local&&(a.x_state.nuxt_config.build_modules["@nuxtjs/google-gtag"].debug=a.x_state.config_node["google:analytics"].local),a.x_state.config_node["google:analytics"].auto&&1==a.x_state.config_node["google:analytics"].auto&&
delete a.x_state.nuxt_config.build_modules["@nuxtjs/google-gtag"].disableAutoPageTrack);a.x_state.config_node["ads:medianet"]&&a.x_state.config_node["ads:medianet"].cid&&(a.debug("Defining nuxt.config.js : MediaNet"),a.x_state.nuxt_config.head_script.z_ads_medianet_a={innerHTML:'window._mNHandle = window._mNHandle || {}; window._mNHandle.queue = window._mNHandle.queue || []; medianet_versionId = "3121199";',type:"text/javascript"},a.x_state.nuxt_config.head_script.z_ads_medianet_b={src:"https://contextual.media.net/dmedianet.js?cid=".concat(a.x_state.config_node["ads:medianet"][cid]),
async:!0},a.x_state.plugins["vue-script2"]={global:!0,npm:{"vue-script2":"*"}});a.x_state.config_node["google:adsense"]&&(a.debug("Defining nuxt.config.js : Google Adsense"),a.x_state.config_node["google:adsense"].auto&&a.x_state.config_node["google:adsense"].client?(a.x_state.nuxt_config.head_script.google_adsense={src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","data-ad-client":a.x_state.config_node["google:adsense"].client,async:!0},a.x_state.plugins.adsense={global:!0,npm:{"vue-google-adsense":"*",
"vue-script2":"*"},mode:"client",customcode:'\n\t\t\t\t\timport Vue from "vue";\n\t\t\t\t\timport Ads from "vue-google-adsense";\n\n\t\t\t\t\tVue.use(require(\'vue-script2\'));\n\t\t\t\t\tVue.use(Ads.AutoAdsense, { adClient: \''.concat(a.x_state.config_node["google:adsense"].client,"'});")}):a.x_state.plugins.adsense={global:!0,npm:{"vue-google-adsense":"*","vue-script2":"*"},mode:"client",customcode:'\n\t\t\t\t\timport Vue from "vue";\n\t\t\t\t\timport Ads from "vue-google-adsense";\n\n\t\t\t\t\tVue.use(require(\'vue-script2\'));\n\t\t\t\t\tVue.use(Ads.Adsense);\n\t\t\t\t\tVue.use(Ads.InArticleAdsense);\n\t\t\t\t\tVue.use(Ads.InFeedAdsense);'});
a.x_state.config_node["nuxt:icon"]&&(a.debug("Defining nuxt.config.js : module nuxtjs/pwa (nuxt:icon)"),a.x_state.nuxt_config.modules["@nuxtjs/pwa"]={});-1!=a.x_state.central_config.idiomas.indexOf(",")&&(a.debug("Defining nuxt.config.js : module nuxt/i18n (idiomas)"),a.x_state.npm["nuxt-i18n"]="*",a.x_state.npm.fs="*",a.x_state.nuxt_config.modules["nuxt-i18n"]={defaultLocale:a.x_state.central_config.idiomas.split(",")[0],vueI18n:{fallbackLocale:a.x_state.central_config.idiomas.split(",")[0]},detectBrowserLanguage:{useCookie:!0,
alwaysRedirect:!0},locales:[],lazy:!0,langDir:"lang/"},a.x_state.central_config.idiomas.split(",").map(function(c){"es"==c?a.x_state.nuxt_config.modules["nuxt-i18n"].locales.push({code:"es",iso:"es-ES",file:"".concat(c,".js")}):"en"==c?a.x_state.nuxt_config.modules["nuxt-i18n"].locales.push({code:"en",iso:"en-US",file:"".concat(c,".js")}):a.x_state.nuxt_config.modules["nuxt-i18n"].locales.push({code:c,file:"".concat(c,".js")})}.bind(a)));a.x_state.stores_types.local&&""!=Object.keys(a.x_state.stores_types.local)&&
(a.debug("Defining nuxt.config.js : module nuxt-vuex-localstorage (store:local)"),a.x_state.nuxt_config.modules["nuxt-vuex-localstorage"]={mode:"debug",localStorage:Object.keys(a.x_state.stores_types.local)});if(a.x_state.stores_types.session&&""!=Object.keys(a.x_state.stores_types.session)){a.debug("Defining nuxt.config.js : module nuxt-vuex-localstorage (store:session)");var g={};a.x_state.nuxt_config.modules["nuxt-vuex-localstorage"]&&(g=a.x_state.nuxt_config.modules["nuxt-vuex-localstorage"]);
a.x_state.nuxt_config.modules["nuxt-vuex-localstorage"]=m(m({},g),{mode:"debug",sessionStorage:Object.keys(a.x_state.stores_types.session)})}var c=!1,e={};Object.keys(a.x_state.central_config).map(function(g){if(-1!=g.indexOf("proxy:")){var d=g.split(":")[1];e[d]=a.x_state.central_config[g];c=!0}}.bind(a));c&&(a.debug("Defining nuxt.config.js : module nuxtjs/proxy (central:proxy)"),a.x_state.npm["@nuxtjs/proxy"]="*",a.x_state.nuxt_config.modules["@nuxtjs/proxy"]={proxy:e})})()}createGitIgnore(){var a=
this;return k(function*(){a.debug("writing .gitignore files");var g=require("fs").promises;require("path");if(a.x_state.central_config.componente){a.debug({message:"writing dsl /.gitignore file"});var c="# Mac System files\n.DS_Store\n.DS_Store?\n_MACOSX/\nThumbs.db\n# VUE files\n# Concepto files\ndsl_cache/\ndsl_cache.ini\nvue.dsl\ntmp.ini\n".concat(a.x_state.dirs.compile_folder,"/node_modules/");yield g.writeFile("".concat(a.x_state.dirs.base,".gitignore"),c,"utf-8");a.x_console.out({message:"writing component .gitignore file"});
c="# Mac System files\n.DS_Store\n.DS_Store?\n_MACOSX/\nThumbs.db\n# NPM files\npackage-lock.json\nnode_modules/\n# AWS EB files\n.elasticbeanstalk/*\n!.elasticbeanstalk/*.cfg.yml\n!.elasticbeanstalk/*.global.yml";yield g.writeFile("".concat(a.x_state.dirs.app,"/.gitignore"),c,"utf-8")}else a.x_console.out({message:"writing /.gitignore file"}),c="# Mac System files\n.DS_Store\n.DS_Store?\n_MACOSX/\nThumbs.db\n# VUE files\n.nuxt/\n# Concepto files\ndsl_cache/\ndsl_cache.ini\ntmp.ini\nvue.dsl\nstats.txt\nstats.json\nstore/\n".concat(a.x_state.dirs.compile_folder,
"/node_modules/\n").concat(a.x_state.dirs.compile_folder,"/secrets/"),yield g.writeFile("".concat(a.x_state.dirs.base,".gitignore"),c,"utf-8")})()}processOmitFile(a){var g=this;return k(function*(){if("internal_stores.omit"==a.file){g.debug("processing internal_stores.omit");var c=require("cheerio").load(a.code,{ignoreWhitespace:!1,xmlMode:!0,decodeEntities:!1});c("store_mutation").map(function(a,b){var d=c(b);a=d.attr("store")?d.attr("store"):"";b=d.attr("mutation")?d.attr("mutation"):"";var e=d.attr("params")?
d.attr("params"):"";d=d.text();g.x_state.stores[a]&&!g.x_state.stores[a][":mutations"]&&(g.x_state.stores[a][":mutations"]={});g.x_state.stores[a][":mutations"][b]={code:d,params:e}}.bind(g,c))}if("internal_middleware.omit"==a.file){g.debug("processing internal_middleware.omit");var e=require("cheerio").load(a.code,{ignoreWhitespace:!1,xmlMode:!0,decodeEntities:!1});e("proxy_code").map(function(a,b){a=e(b);b=a.attr("name")?a.attr("name"):"";g.x_state.proxies[b].code=a.text().trim()},g,e)}if("server.omit"==
a.file){g.debug("processing server.omit");var h=require("cheerio").load(a.code,{ignoreWhitespace:!1,xmlMode:!0,decodeEntities:!1});h("func_code").map(function(a,b){a=h(b);b=a.attr("name")?a.attr("name"):"";g.x_state.functions[b].code=a.text().trim()}.bind(g,h))}})()}getBasicVue(a){var g=this;return k(function*(){var c={template:a.code,script:"",style:"",first:!1},e=g.x_state.pages[a.title];if(e){-1!=e.proxies.indexOf(",")?(g.debug("- declare middlewares"),c.script+="middleware: [".concat(e.proxies,
"]"),c.first=!0):""!=e.proxies.trim()&&(g.debug("- declare middlewares"),c.script+="middleware: '".concat(e.proxies,"'"),c.first=!0);""!=e.layout&&(g.debug("- declare layout"),c.first&&(c.script+=",\n"),c.first=!0,c.script+="layout: '".concat(e.layout.trim(),"'"));if(""!=e.components){g.debug("- declare components");c.first&&(c.script+=",\n");c.first=!0;c.script+="components: {";var h=[];Object.keys(e.components).map(function(a){h.push(" '".concat(a,"': ").concat(e.components[a]))});c.script+="".concat(h.join(","),
"\n\t}")}if(""!=e.directives){g.debug("- declare directives");c.first&&(c.script+=",\n");c.first=!0;c.script+="directives: {";var d=[];Object.keys(e.directives).map(function(a){a==e.directives[a]?d.push(a):d.push("'".concat(a,"': ").concat(e.directives[a]))});c.script+="".concat(d.join(","),"\n\t}")}if("componente"==e.tipo&&""!=e.params){g.debug("- declare componente:props");c.first&&(c.script+=",\n");c.first=!0;var b=[];""!=Object.keys(e.defaults)?e.params.split(",").map(function(a){a="";e.defaults[key]&&
(a=e.defaults[key]);1==a||"true"==a||"false"==a||0==a?b.push("".concat(key,": { default: ").concat(a,"}")):isNaN(+a)?-1!=a.indexOf("[")&&-1!=a.indexOf("]")?b.push("".concat(key,": { type: Array, default: () => ").concat(a,"}")):-1!=a.indexOf("{")&&-1!=a.indexOf("}")?b.push("".concat(key,": { type: Object, default: () => ").concat(a,"}")):-1!=a.indexOf("'")?b.push("".concat(key,": { default: ").concat(a,"}")):b.push("".concat(key,": { default: '").concat(a,"' }")):b.push("".concat(key,": { default: ").concat(a,
"}"))}):e.params.split(",").map(function(a){b.push("'".concat(key,"'"))});c.script+="\tprops: {".concat(b.join(","),"}")}if(e.xtitle||0<e.meta.length){g.debug("- declare head() meta data");c.first&&(c.script+=",\n");c.first=!0;c.script+=" head() {\n return {\n";if(e.xtitle)if(-1!=g.x_state.central_config.idiomas.indexOf(",")){var f="t_".concat(g.hash(e.xtitle)),k=g.x_state.central_config.idiomas.indexOf(",")[0].trim().toLowerCase();g.x_state.strings_i18n[k]||(g.x_state.strings_i18n[k]={});g.x_state.strings_i18n[k][f]=
e.xtitle;c.script+="titleTemplate: this.$t('".concat(f,"')\n")}else c.script+="titleTemplate: '".concat(e.xtitle,"'\n");0<e.meta.length&&(e.xtitle&&(c.script+=","),c.script+="meta: ".concat(JSON.stringify(e.meta),"\n"));c.script+="};\n}"}""!=Object.keys(e.variables)&&(g.debug("- declare data() variables"),c.first&&(c.script+=",\n"),c.first=!0,f=require("util"),c.script+="data() {\n",c.script+=" return ".concat(f.inspect(e.variables,{depth:Infinity}),"\n"),c.script+="}\n")}return c})()}processInternalTags(a){var g=
this;return k(function*(){var c=require("cheerio").load(a.template,{ignoreWhitespace:!1,xmlMode:!0,decodeEntities:!1});g.debug("post-processing server_asyncdata tag");var e=c("server_asyncdata").toArray();0<e.length&&a.first&&(a.script+=",\n");a.first=!0;e.map(function(b){b=c(b);var d=b.attr("return")?b.attr("return"):"";a.script+="async asyncData({ req, res, params }) {\n";a.script+=" if (!process.server) { const req={}, res={}; }\n";a.script+=" ".concat(b.text());a.script+=" return ".concat(d,";\n");
a.script+="}\n";b.remove()});a.template=c.html();0<e.length&&(a.script+="}\n");g.debug("post-processing vue_mounted tag");e=c("vue_mounted").toArray();0<e.length&&a.first&&(a.script+=",\n");a.first=!0;0<e.length&&(a.script+="async mounted() {\n");e.map(function(b,d){b=c(d);a.script+=b.text();b.remove()});a.template=c.html();0<e.length&&(a.script+="}\n");g.debug("post-processing vue_computed tag");e=c("vue_computed").toArray();0<e.length&&a.first&&(a.script+=",\n");a.first=!0;0<e.length&&(a.script+=
"computed: {\n");var h=[];e.map(function(a){a=c(a);var b=a.attr("name"),d=a.html();h.push("".concat(b,"() {").concat(d,"}"));a.remove()});a.template=c.html();a.script+=h.join(",");0<e.length&&(a.script+="}\n");g.debug("post-processing vue_async_computed tag");e=c("vue_async_computed").toArray();0<e.length&&a.first&&(a.script+=",\n");a.first=!0;0<e.length&&(a.script+="asyncComputed: {\n");var d=[];e.map(function(a){a=c(a);var b=a.text();if(a.attr("valor")||a.attr("watch")){var f="";a.attr("lazy")&&
(f+=",lazy: ".concat(a.attr("lazy")));var e="";if(a.attr("valor")){e+=",";var g=a.attr("valor");e=-1!=g.indexOf("[")&&-1!=g.indexOf("]")||-1!=g.indexOf("{")&&-1!=g.indexOf("}")||-1!=g.indexOf("(")&&-1!=g.indexOf(")")?e+"default: ".concat(g):e+"default: '".concat(g,"'")}g="";if(a.attr("watch")){g+=",";var h=[];a.attr("watch").split(",").map(function(a){a=a.replaceAll("$variables.","").replaceAll("$vars","").replaceAll("$params","").replaceAll("$store","$store.state.");h.push("'".concat(a,"'"))});g+=
"watch: [".concat(h.join(","),"]")}d.push("\n\t\t\t\t\t".concat(a.attr("name"),": {\n\t\t\t\t\t\tasync get() {\n\t\t\t\t\t\t\t").concat(b,"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t").concat(f,"\n\t\t\t\t\t\t").concat(e,"\n\t\t\t\t\t\t").concat(g,"\n\t\t\t\t\t}\n\t\t\t\t"))}else d.push("async ".concat(a.attr("name"),"() {").concat(b,"}"));a.remove()});a.template=c.html();a.script+=d.join(",");0<e.length&&(a.script+="}\n");g.debug("post-processing vue_async_computed tag");e=c("vue_watched_var").toArray();0<e.length&&
a.first&&(a.script+=",\n");a.first=!0;0<e.length&&(a.script+="watch: {\n");var b=[];e.map(function(a){a=c(a);var d=a.text();a.attr("deep")?b.push("\n\t\t\t\t'".concat(a.attr("flat"),"': {\n\t\t\t\t\thandler(newVal, oldVal) {\n\t\t\t\t\t\tlet evento = { ").concat(a.attr("newvar"),":newVal, ").concat(a.attr("oldvar"),":oldVal };\n\t\t\t\t\t\t").concat(d,"\n\t\t\t\t\t},\n\t\t\t\t\tdeep: true\n\t\t\t\t}\n\t\t\t\t")):b.push("\n\t\t\t\t'".concat(a.attr("flat"),"': function (newVal, oldVal) {\n\t\t\t\t\tlet evento = { ").concat(a.attr("newvar"),
":newVal, ").concat(a.attr("oldvar"),":oldVal };\n\t\t\t\t\t").concat(d,"\n\t\t\t\t}\n\t\t\t\t"));a.remove()});a.template=c.html();a.script+=b.join(",");0<e.length&&(a.script+="}\n");g.debug("post-processing vue_if tag");e=c("vue_if").toArray();e.map(function(a){a=c(a);var b=a.attr("tipo"),d=a.attr("expresion");if("template"!=a.attr("target")){var f=c('*[refx="'.concat(a.attr("target"),'"]')).toArray();0<f.length&&(f=c(f[0]),"v-else"==b?f.attr(b,""):f.attr(b,d));a.remove()}});a.template=c.html();
g.debug("post-processing vue_for tag");e=c("vue_for").toArray();e.map(function(a){a=c(a);var b=a.attr("iterator").replaceAll("$variables","").replaceAll("$vars","").replaceAll("$params.","").replaceAll("$store","$store.state.");b=a.attr("use_index")&&"false"==a.attr("use_index")&&"0"!=a.attr("key")?"(".concat(a.attr("item"),", ").concat(a.attr("key"),") in ").concat(b):a.attr("use_index")&&"false"==a.attr("use_index")&&"0"==a.attr("key")?"".concat(a.attr("item")," in ").concat(b):a.attr("key")&&"0"!=
a.attr("key")&&"false"!=a.attr("use_index")?"(".concat(a.attr("item"),", ").concat(a.attr("key"),", ").concat(a.attr("use_index"),") in ").concat(b):"(".concat(a.attr("item"),", ").concat(a.attr("use_index"),")");if("template"!=a.attr("target")){var d=c('*[refx="'.concat(a.attr("target"),'"]')).toArray();0<d.length&&(d=c(d[0]),d.attr("v-for",b),0!=a.attr("unique")&&d.attr(":key",a.attr("unique")));a.remove()}else d=a.html(),a.replaceWith('<template v-for="'.concat(b,'">').concat(d,"</template>"))});
a.template=c.html();return a})()}onCreateFiles(a){var g=this;return k(function*(){yield g.generalConfigSetup();yield g.createGitIgnore();g.debug("processing nodes");yield a.map(function(){var a=k(function*(a){if("omit"==a.file.split(".").slice(-1))yield this.processOmitFile(a);else{this.debug("processing node "+a.title);var c=yield this.getBasicVue(a),d=this.x_state.pages[a.title];this.debug("post-processing internal custom tags");c=yield this.processInternalTags(c);var b="";b="<script>\n{concepto:import:mixins}";
d&&Object.keys(d.imports).map(function(a){b+="import ".concat(d.imports[a]," from '").concat(a,"'\n")});b+="export default {\n";c.script=b+c.script;c.script+="}";a=require("js-beautify").js;var e=require("vue-beautify");c.script=a(c.script,{space_in_empty_paren:!1});c.template=e(c.template,{indent_scripts:"keep"});this.x_console.out({message:"vue test",data:c})}});return function(c){return a.apply(this,arguments)}}().bind(g))})()}_isLocalServerRunning(){var a=this;return k(function*(){return yield require("is-port-reachable")(a.x_state.central_config.port)})()}_readModelos(){var a=
this;return k(function*(){a.debug("_readModelos");a.debug_time({id:"readModelos"});var g=yield a.dsl_parser.getNodes({text:"modelos",level:2,icon:"desktop_new",recurse:!0}),c={},e={tables:{},attributes:{},length:0,doc:""},h={id:{value:"INT AUTOINCREMENT PRIMARY KEY",alias:["identificador","autoid","autonum","key"]},texto:{value:"STRING",alias:["text","varchar","string"]},int:{value:"INTEGER",alias:["numero chico","small int","numero"]},float:{value:"FLOAT",alias:["decimal","real"]},boolean:{value:"BOOLEAN",
alias:["boleano","true/false"]},date:{value:"DATEONLY",alias:["fecha"]},datetime:{value:"DATETIME",alias:["fechahora"]},blob:{value:"BLOB",alias:["binario","binary"]}};Object.keys(h).map(function(a){var b=h[a].alias;b.push(a);b.map(b=>{c[b]=h[a].value})});if(0<g.length){e.attributes=m({},g[0].attributes);e.doc=g[0].text_note;e.length=g[0].nodes.length;for(var d of g[0].nodes){var b=m({},d.attributes);e.tables[d.text]={fields:{}};g=[];for(var f in b)e.tables[d.text].fields[f]=c[b[f]],g.push(f+" "+
c[b[f]]);e.tables[d.text].sql="CREATE TABLE ".concat(d.text,"(").concat(g.join(","),")")}}a.debug_timeEnd({id:"readModelos"});if(0<e.length){d=[];for(var k in e.tables)d.push("alasqlJs('".concat(e.tables[k].sql,"');"));k="const alasql = {\n\t\t\t\tinstall (v) {\n\t\t\t\t\t// create tables from models\n\t\t\t\t\t".concat(d.join("\n"),"\n\t\t\t\t\tVue.prototype.alasql = alasqlJs;\n\t\t\t\t}\n\t\t\t}");a.x_state.plugins["../../node_modules/alasql/dist/alasql.min.js"]={global:!0,npm:{alasql:"*"},var:"alasqlJs",
mode:"client",customvar:"alasql",custom:k}}return e})()}_readAssets(){var a=this;return k(function*(){var g={},c=require("path");a.debug("_readAssets");a.debug_time({id:"_readAssets"});var e=yield a.dsl_parser.getNodes({text:"assets",level:2,icon:"desktop_new",recurse:!0}),h=c.sep;if(0<e.length){e=e[0];for(var d of e.nodes)if(1==d.nodes.length&&""!=d.nodes[0].image)g[d.text.toLowerCase()]={i18n:!1,original:d.nodes[0].image,css:"~assets"+h+c.basename(d.nodes[0].image),js:"~"+h+"assets"+h+c.basename(d.nodes[0].image)};
else if(1<d.nodes.length){e=d.text.toLowerCase();g[e]={i18n:!0,i18n_keys:[]};for(var b of d.nodes){var f=m({},b.attributes);f.idioma&&""!=b.image&&(f=f.idioma.toLowerCase(),g[e].i18n_keys.push(f),g[e][f]={original:b.image,css:"~assets"+h+c.basename(b.image),js:"~"+h+"assets"+h+c.basename(b.image)})}g[e].i18n_keys=g[e].i18n_keys.join(",")}else""!=d.link&&(g[d.text.toLowerCase()]={original:d.link,css:"~assets"+h+c.basename(d.link),js:"~"+h+"assets"+h+c.basename(d.link)})}a.debug_timeEnd({id:"_readAssets"});
return g})()}_readCentralConfig(){var a=this;return k(function*(){a.debug("_readCentralConfig");var g=yield a.dsl_parser.getNodes({level:1,recurse:!1}),c={cloud:"aws",type:"simple",i18n:!1,log:"console",debug:!1,deploy:!1,static:!1,timeout:30,modelos:"aurora",componente:!1,"keep-alive":!0,"keep-warm":!0,port:3E3,git:!0,nuxt:"latest",idiomas:"es",":cache":a.x_config.cache,":mode":"spa",":keywords":"",":author":"Punto Origen SpA",":license":"MIT",":github":"",":version":"1.0.0",":description":g[0].text_note,
default_face:g[0].font.face,default_size:g[0].font.size,apptitle:g[0].text};c=m(m({},c),g[0].attributes);c.service_name=c.dominio?c.dominio.replace(/\./g,"").toLowerCase():c.apptitle;c[":cache"]||(a.x_config.cache=!1);return c})()}_readConfig(){var a=this;return k(function*(){a.debug("_readConfig");var g={id:"",meta:[],seo:{},secrets:{}},c={};c=yield a.dsl_parser.getNodes({text:"config",level:2,icon:"desktop_new",recurse:!0});if(0<c.length){c=c[0];g.default_face=c.font.face;g.default_size=c.font.size;
for(var e of c.nodes)if("meta"==e.text.toLowerCase())for(var h of e.nodes)"keywords"==h.text.toLowerCase()?(g.seo.keywords=h.nodes.map(a=>a.text),g.meta.push({hid:a.hash(h.nodes[0].text),name:"keywords",content:g.seo.keywords.join(",")})):"language"==h.text.toLowerCase()?(g.seo.language=h.nodes[0].text,g.meta.push({hid:a.hash(h.nodes[0].text),lang:h.nodes[0].text})):"charset"==h.text.toLowerCase()?(g.seo.charset=h.nodes[0].text,g.meta.push({charset:h.nodes[0].text})):(g.seo.charset=h.nodes[0].text,
-1!=h.text.indexOf(":")?g.meta.push({property:h.text,vmid:h.text,content:h.nodes[0].text}):g.meta.push({hid:a.hash(h.nodes[0].text),name:h.text,content:h.nodes[0].text}));else if(0<Object.keys(e.attributes).length){c=e.text.toLowerCase().replace(/ /g,"");var d=m({},e.attributes);g[c]=d;e.icons.includes("password")&&(g[c][":secret"]=!0);""!=e.link&&(g[c][":link"]=e.link)}else 0<e.nodes.length?g[e.text]=e.nodes[0].text:""!=e.link&&(g[e.text]=e.link)}g.name||(e=require("path"),h=e.dirname(e.resolve(a.x_flags.dsl)),
c=e.resolve(h,"../"),h=h.replace(c,""),g.name=h.replace("/","").replace("\\","")+"_"+e.basename(a.x_flags.dsl,".dsl"));g.id||(g.id="com.puntorigen."+g.name);return g})()}getParentNodes(){var a=arguments,g=this;return k(function*(){var c=0<a.length&&void 0!==a[0]?a[0]:g.throwIfMissing("id"),e=1<a.length&&void 0!==a[1]?a[1]:!1,h=yield g.dsl_parser.getParentNodesIDs({id:c,array:!0});c=[];for(var d of h)h=yield g.dsl_parser.getNode({id:d,recurse:!1}),(h=yield g.findValidCommand({node:h,object:e}))&&c.push(h);
return c})()}getAsset(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.throwIfMissing("text"),g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"js",c=a;a=a.replaceAll("jsfunc","js").toLowerCase();if(-1!=c.toLowerCase().indexOf("assets:")&&c in this.x_state.assets)if(-1!=this.x_state.central_config.idiomas.indexOf(",")&&1==this.x_state.assets[c].i18n){var e=this.x_state.assets[c].i18n_keys.split(",")[0];c=this.x_state.assets[c][e][a];"js"==g.toLowerCase()?(c=c.replaceAll("/".concat(e,
"/"),"/' + $i18n.locale + '/"),c="require('".concat(c,"')")):"jsfunc"==g.toLowerCase()&&(c=c.replaceAll("/".concat(e,"/"),"/' + this.$i18n.locale + '/"),c="require('".concat(c,"')"))}else c in this.x_state.assets&&a in this.x_state.assets[c]&&(c=this.x_state.assets[c][a],-1!=g.toLowerCase().indexOf("js")&&(c="require('".concat(c,"')")));return c}struct2params(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.throwIfMissing("id"),g=[],c=m({},a);"aos"in c&&(a=a.aos.split(","),3==a.length?
(c["data-aos"]=a[0],c["data-aos-duration"]=a[1],c["data-aos-delay"]=a[2]):(c["data-aos"]=a[0],c["data-aos-duration"]=a[1]),delete c.aos);var e,h;for([e,h]of Object.entries(c))null===h?g.push(e):"object"!==typeof h&&"function"!==typeof h&&"undefined"!==typeof h&&g.push("".concat(e,"='").concat(h,"'"));return g.join(" ")}hash(a){var g=require("highwayhash"),c;"string"===typeof a?c=Buffer.from(a):"object"===typeof a&&(c=Buffer.from(JSON.stringify(a)));return g.asHexString(this.x_crypto_key,c)}atLeastNode(a){var g=
process.versions.node.split(".").map(a=>parseInt(a,10));a=a.split(".").map(a=>parseInt(a,10));return g[0]>a[0]||g[0]===a[0]&&(g[1]>a[1]||g[1]===a[1]&&g[2]>=a[2])}}return B})
