'use strict';(function(n,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define(k):(n="undefined"!==typeof globalThis?globalThis:n||self,n.vue_dsl=k())})(this,function(){function n(b,g,e,h,c,d,a){try{var f=b[d](a),l=f.value}catch(p){e(p);return}f.done?g(l):Promise.resolve(l).then(h,c)}function k(b){return function(){var g=this,e=arguments;return new Promise(function(h,c){function d(b){n(f,h,c,d,a,"next",b)}function a(b){n(f,h,c,d,
a,"throw",b)}var f=b.apply(g,e);d(void 0)})}}function u(b,g){var e=Object.keys(b);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(b);g&&(h=h.filter(function(c){return Object.getOwnPropertyDescriptor(b,c).enumerable}));e.push.apply(e,h)}return e}function m(b){for(var g=1;g<arguments.length;g++){var e=null!=arguments[g]?arguments[g]:{};g%2?u(Object(e),!0).forEach(function(h){var c=e[h];h in b?Object.defineProperty(b,h,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[h]=c}):
Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach(function(h){Object.defineProperty(b,h,Object.getOwnPropertyDescriptor(e,h))})}return b}function y(b){return t.apply(this,arguments)}function t(){t=k(function*(b){var g={hint:"Allowed node type that must be ommited",func:function(){var c=k(function*(d,a){return b.reply_template({hasChildren:!1,state:a})});return function(d,a){return c.apply(this,arguments)}}()},e=function(c){var d=b.dsl_parser.findVariables({text:c,
symbol:"**",symbol_closing:"**"});c=b.dsl_parser.replaceVarsSymbol({text:c,from:{open:"**",close:"**"},to:{open:"${",close:"}"}});return"${"+d+"}"==c?d:"`".concat(c,"`")},h=function(c,d){var a={refx:d.id},f={};if("attributes_aliases"in b.x_commands[c]){var l=b.x_commands[c].attributes_aliases;Object.keys(l).map(function(a){l[a].split(",").map(d=>{f[d]=a})})}Object.keys(d.attributes).map(function(b){var l=d.attributes[b];b=b.trim().replace(":","");var c=b.toLowerCase(),p=l.toString().replaceAll("$variables.",
"").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env.").replaceAll("$store.","$store.state.").trim();"props"==c?l.split(",").map(d=>{a[d]=null}):c in f&&l!=p?"v-model"==f[c]?a[f[c]]=p:a[":".concat(f[c])]=p:c in f?a[f[c]]=p:l!=p||"$"==l[0]||"!"==l[0]?a[":".concat(b)]=p:a[b]=p});return a};return{def_config:m(m({},g),{x_icons:"desktop_new",x_level:"2",x_text_contains:"config"}),def_modelos:m(m({},g),{x_icons:"desktop_new",x_level:"2",x_text_contains:"modelos"}),def_assets:m(m({},
g),{x_icons:"desktop_new",x_level:"2",x_text_contains:"assets"}),def_server:{x_icons:"desktop_new",x_level:"2",x_text_contains:"server|servidor|api",hint:"Representa a un backend integrado con funciones de express.",func:function(){var c=k(function*(d,a){d=b.reply_template();b.x_state.npm=m(m({},b.x_state.npm),{body_parser:"*","cookie-parser":"*"});b.x_state.central_config.static=!1;return d});return function(d,a){return c.apply(this,arguments)}}()},def_server_path:{x_icons:"list",x_level:"3,4",x_or_hasparent:"def_server",
x_not_icons:"button_cancel,desktop_new,help",hint:"Carpeta para ubicacion de funcion de servidor",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});if(3==d.level)a.state.current_folder=d.text;else if(4==d.level&&(yield b.isExactParentID(d.id,"def_server_path"))){var f=yield b.dsl_parser.getParentNode({id:d.id});a.state.current_folder="".concat(f.text,"/").concat(d.text)}else a.valid=!1;return a});return function(d,a){return c.apply(this,arguments)}}()},def_server_func:{x_empty:"icons",
x_level:"3,4,5",x_or_hasparent:"def_server",hint:"Corresponde a la declaracion de una funcion de servidor",func:function(){var c=k(function*(d,a){var f=b.reply_template({state:a});b.x_state.central_config.static=!1;f.state.current_func=d.text;2!=d.level&&(a=f.state.current_folder?f.state.current_folder.split("/"):[],f.state.current_func=[...a,d.text].join("_"));b.x_state.functions[f.state.current_func]||(b.x_state.functions[f.state.current_func]={tipo:"web",acceso:"*",params:"",param_doc:{},doc:d.text_note,
method:"get",return:"",path:"/"+(f.state.current_folder?f.state.current_folder+"/":"")+d.text,imports:{}});Object.keys(d.attributes).map(function(a){a=a.toLowerCase();":type type tipo :tipo :method method".split(" ").includes(a)?b.x_state.functions[f.state.current_func].method=d.attributes[a]:a.contains(":")?b.x_state.functions[f.state.current_func].param_doc[a.split(":")[0]]={type:a.split(":")[1],desc:d.attributes[a]}:b.x_state.functions[f.state.current_func][a.toLowerCase().trim()]=d.attributes[a]});
f.open=b.tagParams("func_code",{name:f.state.current_func,method:b.x_state.functions[f.state.current_func].method,path:b.x_state.functions[f.state.current_func].path},!1)+"\n";f.close="</func_code>";return f});return function(d,a){return c.apply(this,arguments)}}()},def_store:{x_icons:"desktop_new",x_level:"2",x_text_contains:"store",hint:"Representa una coleccion de stores de Vue",func:function(){var c=k(function*(d,a){return b.reply_template({state:a,hasChildren:!0})});return function(d,a){return c.apply(this,
arguments)}}()},def_store_def:{x_empty:"icons",x_level:"3",x_all_hasparent:"def_store",hint:"Representa a una definicion de store de VueX",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f="normal",l="";a.state.current_store=d.text;b.x_state.stores||(b.x_state.stores={});b.x_state.stores&&!1===d.text in b.x_state.stores&&(b.x_state.stores[d.text]={});Object.keys(d.attributes).map(function(a){a=a.toLowerCase();[":type","type","tipo",":tipo"].includes(a)?["sesion","session"].includes(d.attributes[a])?
(f="session",b.x_state.npm["nuxt-vuex-localstorage"]="*"):"local persistent persistente localstorage storage db bd".split(" ").includes(d.attributes[a])&&(f="local",b.x_state.npm["nuxt-vuex-localstorage"]="*"):["version",":version"].includes(a)?l=d.attributes[a]:["expire",":expire","expira",":expira"].includes(a)});b.x_state.stores_types&&!1===f in b.x_state.stores_types&&(b.x_state.stores_types[f]={});!1===a.state.current_store in b.x_state.stores_types[f]&&(b.x_state.stores_types[f][a.state.current_store]=
{});""!=l&&!1===a.state.current_store in b.x_state.stores_types.versions&&(b.x_state.stores_types.versions[a.state.current_store]={});""!=l&&!1===a.state.current_store in b.x_state.stores_types.expires&&(b.x_state.stores_types.expires[a.state.current_store]={});return a});return function(d,a){return c.apply(this,arguments)}}()},def_proxies:{x_icons:"desktop_new",x_level:2,x_text_contains:"prox",hint:"Representa una coleccion de proxies de Vue",func:function(){var c=k(function*(d,a){return b.reply_template({state:a})});
return function(d,a){return c.apply(this,arguments)}}()},def_proxy_def:{x_level:3,x_empty:"icons",x_or_isparent:"def_proxies",hint:"Representa una definicion de un proxy (middleware) en Vue",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});a.state.current_proxy=d.text.trim();b.x_state.proxies[a.state.current_proxy]={imports:{underscore:"_"},code:""};a.open=b.tagParams("proxy_code",{name:a.state.current_proxy},!1)+"\n";a.close="</proxy_code>";return a});return function(d,a){return c.apply(this,
arguments)}}()},def_page:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help",x_not_text_contains:"componente:,layout:",hint:"Archivo vue",func:function(){var c=k(function*(d,a){var f=b.reply_template({state:a});f.state.current_page=d.text;b.x_state.pages[f.state.current_page]||(b.x_state.pages[f.state.current_page]={tipo:"page",acceso:"*",params:"",layout:"",defaults:{},imports:{},components:{},directives:{},variables:{},seo:{},meta:{},head:{script:[],meta:[],seo:{}},var_types:{},proxies:"",
return:"",styles:{},script:{},path:"/"+f.state.current_page});f.state.from_def_layout&&(b.x_state.pages[f.state.current_page].tipo="layout");f.state.from_def_componente&&(b.x_state.pages[f.state.current_page].tipo="componente");d.icons.includes("gohome")&&(b.x_state.pages[f.state.current_page].path="/");var l={};Object.keys(d.attributes).map(function(a){var c=d.attributes[a];c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.",
"$store.state.");["proxy"].includes(a.toLowerCase())?b.x_state.pages[f.state.current_page].proxies=c:["acceso","method"].includes(a.toLowerCase())?b.x_state.pages[f.state.current_page].acceso=c:["path","url","ruta"].includes(a.toLowerCase())?b.x_state.pages[f.state.current_page].path=c:["layout"].includes(a.toLowerCase())?b.x_state.pages[f.state.current_page].layout=c:["meta:title","meta:titulo"].includes(a.toLowerCase())?b.x_state.pages[f.state.current_page].xtitle=c:["background","fondo"].includes(a.toLowerCase())?
(l.id="tapa",a=b.getAsset(c,"css"),b.x_state.pages[f.state.current_page].styles["#tapa"]={"background-image":"url('".concat(a,"')"),"background-repeat":"no-repeat","background-size":"100vw"}):":"!=a.charAt(0)&&c!=d.attributes[a]?l[":"+a]=c:l[a]=c}.bind(this));""!=d.text_note&&(f.open="\x3c!-- ".concat(d.text_note.replaceAll("<br/ >","\n")," --\x3e\n"));f.open+="<template>\n";!1==="from_def_componente"in f.state&&""==b.x_state.pages[f.state.current_page].layout&&(f.open+="\t"+b.tagParams("v-app",l,
!1)+"\n",f.close+="\t</v-app>\n");f.close+="</template>\n";return f});return function(d,a){return c.apply(this,arguments)}}()},def_page_seo:{x_level:3,x_icons:"desktop_new",x_text_contains:"seo",hint:"Definicion local de SEO",func:function(){var c=k(function*(d,a){var f=b.reply_template({state:a});(yield d.getNodes()).map(function(){var d=k(function*(d){var f=d.text.toLowerCase().trim(),l=yield d.getNodes();if("keywords"==f){var c=[];l.map(a=>{c.push(a.text)});b.x_state.pages[a.current_page].seo[f]=
c;b.x_state.pages[a.current_page].meta.push({hid:b.hash(l),name:"keywords",content:c.join(",")})}else"language"==f&&0<l.length?(b.x_state.pages[a.current_page].seo[f]=l[0].text,b.x_state.pages[a.current_page].meta.push({hid:b.hash(l),lang:l[0].text.toLowerCase().trim(),content:l[0].text})):0<l.length&&(b.x_state.pages[a.current_page].seo[f]=l[0].text,f.contains(":")?b.x_state.pages[a.current_page].meta.push({property:f,vmid:f,content:l[0].text}):b.x_state.pages[a.current_page].meta.push({hid:b.hash(l),
name:d.text.trim(),content:l[0].text}))});return function(a){return d.apply(this,arguments)}}().bind(this));return f});return function(d,a){return c.apply(this,arguments)}}()},def_page_estilos:{x_level:"3,4",x_icons:"desktop_new",x_text_contains:"estilos",x_or_hasparent:"def_page,def_componente,def_layout",hint:"Definicion de estilos/clases locales",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});d=m(m({},{scoped:!0}),h("def_page_estilos",d));a.open=b.tagParams("page_estilos",
d,!1);a.close="</page_estilos>";return a});return function(d,a){return c.apply(this,arguments)}}()},def_page_estilos_class:{x_level:4,x_empty:"icons",x_all_hasparent:"def_page_estilos",hint:"Definicion de clase CSS en template VUE",func:function(){var c=k(function*(d,a){var f=b.reply_template({state:a});a=d.text.trim().charAt(0);!1===["#",".","|"].includes(a)?f.open=".".concat(d.text.trim()," {\n"):f.open="|"==a?"".concat(d.text.trim().substring(1)," {\n"):"".concat(d.text.trim()," {\n");Object.keys(d.attributes).map(function(a){var l=
d.attributes[a];b.x_state.es6&&!l.contains("!important")&&";"!=l.slice(-1)?f.open+="\t".concat(a,": ").concat(l," !important;\n"):b.x_state.es6&&!l.contains("!important")?f.open+="\t".concat(a,": ").concat(l.slice(0,-1)," !important;\n"):f.open+="\t".concat(a,": ").concat(l,";\n")});f.open+="}\n";return f});return function(d,a){return c.apply(this,arguments)}}()},def_layout:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help,idea",x_text_contains:"layout:",x_empty:"icons",hint:"Archivo vue tipo layout",
func:function(){var c=k(function*(d,a){b.reply_template({state:a});d=yield b.x_commands.def_page.func(d,m(m({},a),{from_def_layout:!0}));delete d.state.from_def_layout;return d});return function(d,a){return c.apply(this,arguments)}}()},def_layout_view:{x_level:">2",x_icons:"idea",x_text_contains:"layout:",hint:"Contenedor flexible, layout:flex o layout:wrap",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f="flex",l=6;""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note.trim(),
" --\x3e"));d.text.contains(":wrap")&&(f="wrap");var c=h("def_layout_view",d);d=m({},c);c.width&&(l=c.width,c.width.contains("%")&&(l=Math.round(12*parseInt(c.width.replaceAll("%",""))/100)),delete c.width);c[":width"]&&delete c[":width"];d.margen&&"true"==d.margen?(delete c.margen,d.center&&"true"==d.center?(a.open+="<v-container fill-height>\n",a.open=b.x_state.es6?a.open+"<v-row wrap align-center>\n":a.open+"<v-layout row wrap align-center>\n"):"flex"==f?(a.open+="<v-container>\n",c.row=null,a.open+=
b.tagParams("v-layout",c,!1)+"\n"):"wrap"==f&&(a.open=b.x_state.es6?a.open+"<v-container fill-height container--fluid grid-list-xl>\n":a.open+"<v-container fill-height fluid grid-list-xl>\n",c.wrap=null,a.open+=b.tagParams("v-layout",c,!1)+"\n"),"flex"==f&&d.center&&"true"==d.center&&(c.xs12=null,c["sm"+l]=null,c["offset-sm"+Math.round(l/2)]=null,a.open+=b.tagParams("v-flex",c,!1)+"\n",a.close+="</v-flex>"),a.close=b.x_state.es6&&d.center&&"true"==d.center?a.close+"</v-row>\n":a.close+"</v-layout>\n",
a.close+="</v-container>\n"):(d.center&&"true"==d.center?(delete c.center,b.x_state.es6?(c=m(m({},c),{wrap:null,"align-center":null}),a.open+=b.tagParams("v-row",c,!1)+"\n"):(c=m(m({},c),{row:null,wrap:null,"align-center":null}),a.open+=b.tagParams("v-layout",c,!1)+"\n")):a.open+="<v-layout wrap>\n","flex"==f&&d.center&&"true"==d.center&&(delete c.center,c.xs12=null,c["sm"+l]=null,c["offset-sm"+Math.round(l/2)]=null,a.open+=b.tagParams("v-flex",c,!1)+"\n",a.close+="</v-flex>"),a.close=b.x_state.es6&&
d.center&&"true"==d.center?a.close+"</v-row>":a.close+"</v-layout>");return a});return function(d,a){return c.apply(this,arguments)}}()},def_layout_contenido:{x_level:3,x_icons:"idea",x_text_contains:"contenido",x_all_hasparent:"def_layout",hint:"Placeholder para contenidos de paginas en pantallas tipo layouts",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f={};""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));b.x_state.central_config["keep-alive"]&&(f["keep-alive"]=
null);a.open+=b.tagParams("nuxt",f,!0)+"\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_componente:{x_level:2,x_not_icons:"button_cancel,desktop_new,list,help,idea",x_text_contains:"componente:",x_empty:"icons",hint:"Archivo vue tipo componente",func:function(){var c=k(function*(d,a){b.reply_template({state:a});d=yield b.x_commands.def_page.func(d,m(m({},a),{from_def_componente:!0}));delete d.state.from_def_componente;return d});return function(d,a){return c.apply(this,
arguments)}}()},def_componente_view:{x_level:">2",x_icons:"idea",x_text_contains:"componente:",hint:"Instancia de componente",func:function(){var c=k(function*(d,a){var f=b.reply_template({state:a}),c=d.text.trim().split(":").pop(),e="c-".concat(c),g=c.replaceAll("-","");b.x_state.pages[a.current_page].imports["~/components/".concat(c,".vue")]=g;b.x_state.pages[a.current_page].components[e]=g;a=h("def_componente_view",d);""!=d.text_note&&(f.open="\x3c!-- ".concat(d.text_note.trim()," --\x3e\n"));
f.open+=b.tagParams(e,a,!1)+"\n";f.close="</".concat(e,">\n");return f});return function(d,a){return c.apply(this,arguments)}}()},def_componente_emitir:{x_level:">2",x_icons:"desktop_new",x_text_contains:"llamar evento|emitir evento",x_all_hasparent:"def_componente",hint:"Emite un evento desde el componente a sus instancias",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f=b.dsl_parser.findVariables({text:d.text,symbol:'"',symbol_closing:'"'}).trim(),c=[];Object.keys(d.attributes).map(function(a){var b=
d.attributes[a];b.contains("**")&&d.icons.includes("bell")?b=e(b):"true"==b||"false"==b?(b="true"==b?!0:b,b="false"==b?!1:b):b.contains("$")?b=b.replaceAll("$variables.","this.").replaceAll("$vars.","this.").replaceAll("$params.","this.").replaceAll("$config.","process.env").replaceAll("$store.","this.$store.state."):0==b.contains("this.")&&0==b.contains("'")&&(b="'".concat(b,"'"));c.push("".concat(a,": ").concat(b))});""!=d.text_note&&(a.open="// ".concat(d.text_note.trim(),"\n"));a.open+="this.$emit('".concat(f,
"',{").concat(c.join(","),"});\n");return a});return function(d,a){return c.apply(this,arguments)}}()},def_card:{x_level:">2",x_icons:"idea",x_text_contains:"card",x_not_text_contains:":text,:texto,:title,:action,:image,:media",attributes_aliases:{width:"width,ancho",height:"height,alto"},hint:"Card de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_card",d);a.open+=b.tagParams("v-card",d,!1)+
"\n";a.close+="</v-card>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_card_title:{x_level:">3",x_icons:"idea",x_text_contains:"card:title",x_all_hasparent:"def_card",hint:"Titulo de card de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_card_title",d);a.open+=b.tagParams("v-card-title",d,!1)+"\n";a.close+="</v-card-title>\n";return a});return function(d,a){return c.apply(this,
arguments)}}()},def_card_text:{x_level:">3",x_icons:"idea",x_text_contains:"card:text",x_all_hasparent:"def_card",hint:"Contenido de card de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_card_text",d);a.open+=b.tagParams("v-card-text",d,!1)+"\n";a.close+="</v-card-text>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_card_actions:{x_level:">3",x_icons:"idea",x_text_contains:"card:action",
x_all_hasparent:"def_card",hint:"Acciones de card de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_card_actions",d);a.open+=b.tagParams("v-card-actions",d,!1)+"\n";a.close+="</v-card-actions>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_card_media:{x_level:">3",x_icons:"idea",x_text_contains:"card:media",x_all_hasparent:"def_card",hint:"Contenido multimedia para card de vuetify",
func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_card_media",d);b.x_state.es6?(a.open+=b.tagParams("v-img",d,!1)+"\n",a.close+="</v-img>\n"):(a.open+=b.tagParams("v-card-media",d,!1)+"\n",a.close+="</v-card-media>\n");return a});return function(d,a){return c.apply(this,arguments)}}()},def_form:{x_level:">2",x_icons:"idea",x_text_contains:"form",attributes_aliases:{"v-model":"valid,value"},hint:"Formulario de vuetify",
func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_form",d);a.open+=b.tagParams("v-form",d,!1)+"\n";a.close+="</v-form>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_field:{x_level:">2",x_icons:"pencil",x_not_icons:"calendar,clock,attach,freemind_butterfly",x_not_text_contains:"google:",attributes_aliases:{placeholder:"hint,ayuda",mark:"mask,mascara,formato","prepend-icon":"pre:icon",
"append-icon":"post:icon",type:"type,tipo",value:"value,valor",counter:"counter,maxlen,maxlength,max"},hint:"Campo de entrada (text,textarea,checkbox,radio,combo,select,switch,toogle,autocomplete) para usar en formulario vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f={};""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var c=h("def_form_field",d);f=m(m({},{type:"text"}),c);c.refx=d.id;d.text.contains("$")?(d=d.text.trim().split(",").pop(),d=d.replaceAll("$variables.",
"").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."),c["v-model"]=d):c["v-model"]=d.text.trim();delete c.type;if("text"==f.type)b.x_state.es6&&(c[":mask"]?(c["v-mask"]=c[":mask"],delete c[":mask"]):c.mask&&(c["v-mask"]="'".concat(c.mask,"'"),delete c.mask)),a.open+=b.tagParams("v-text-field",c,!1)+"\n",a.close+="</v-text-field>\n";else if("combo"==f.type)a.open+=b.tagParams("v-combobox",c,!1)+"\n",a.close+="</v-combobox>\n";else if("toogle"==f.type)a.open+=b.tagParams("v-btn-toogle",
c,!1)+"\n",a.close+="</v-btn-toogle>\n";else if(["textarea","checkbox","radio","switch"].includes(f.type))a.open+=b.tagParams("v-".concat(f.type),c,!1)+"\n",a.close+="</v-".concat(f.type,">\n");else if(["autocomplete","autocompletar","auto","select"].includes(f.type)){if("item-text"in c&&c["item-text"].contains("{{")){var e=c["item-text"];b.dsl_parser.findVariables({text:c["item-text"],symbol:"{{",symbol_closing:"}}",array:!0}).map(a=>{e.replaceAll(a,"item.".concat(a.trim()))});"{{ "==e.slice(0,3)&&
(e=e.slice(3));e=" }}"==e.slice(-3)?e.slice(0,-3):e+"'";e=e.replaceAll(" }}","+'").replaceAll("{{ ","'+");c[":item-text"]="(item)=>".concat(e);delete c["item-text"]}else if("item-text"in c&&c["item-text"].contains(" ")){var g=[];c["item-text"].split(" ").map(a=>{g.push("item.".concat(a))});c[":item-text"]="(item)=>"+g.join("+' '+");delete c["item-text"]}if("item-value"in c&&c["item-value"].contains(" ")){var k=[];c["item-value"].split(" ").map(a=>{k.push("item.".concat(a))});c[":item-value"]="(item)=>"+
k.join("+' '+");delete c["item-value"]}["autocomplete","autocompletar","auto"].includes(f.type)?(a.open+=b.tagParams("v-autocomplete",c,!1)+"\n",a.close+="</v-autocomplete>\n"):"select"==f.type&&(!1==="item-value"in c&&!1==="return-object"in c&&!1===":return-object"in c&&(c[":return-object"]=!0),a.open+=b.tagParams("v-select",c,!1)+"\n",a.close+="</v-select>\n")}return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_field_image:{x_level:">2",x_icons:"pencil,attach",x_not_icons:"calendar,clock,freemind_butterfly",
x_not_text_contains:"google:",hint:"Campo de entrada de imagen (subir imagen) para usar en formulario vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=h("def_form_field",d);f.refx=d.id;"-"!=d.text.trim()&&(d.text.contains("$")?(d=d.text.trim().split(",").pop(),d=d.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."),f[":prefill"]=d):f.prefill=
d.text.trim());f[":removable"]=!1;f[":hideChangeButton"]=!0;b.x_state.plugins["vue-picture-input"]={global:!0,npm:{"vue-picture-input":"*"},tag:"picture-input"};f.type&&delete f.type;a.open+=b.tagParams("picture-input",f,!1)+"\n";a.close="</picture-input>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_field_galery:{x_level:">2",x_icons:"pencil,freemind_butterfly",x_not_icons:"calendar,clock,attach",x_not_text_contains:"google:",hint:"Campo de entrada de galeria de imagenes (elegir una o varias imagenes) para usar en formulario vuetify",
func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=h("def_form_field_galery",d);f.refx=d.id;if(""!=d.text.trim()){var c=d.text.trim();d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."));f["@onselectimage"]="(item)=>".concat(c,"=[item]");f["@onselectmultipleimage"]="(item)=>".concat(c,"=item");f[":selectedImages"]=
c}b.x_state.plugins["vue-picture-input"]={global:!0,npm:{"vue-select-image":"*"},tag:"vue-select-image",requires:["vue-select-image/dist/vue-select-image.css"]};f.type&&delete f.type;a.open+=b.tagParams("vue-select-image",f,!1)+"\n";a.close="</vue-select-image>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_field_date:{x_level:">2",x_icons:"pencil,calendar",x_not_icons:"clock,attach,freemind_butterfly",x_not_text_contains:"google:",hint:"Campo de entrada con selector de fecha (sin hora) para usar en formulario vuetify",
func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=h("def_form_field_date",d);if(""!=d.text.trim()){var c=d.text.trim();d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."));f["v-model"]=c}b.x_state.npm.luxon="*";b.x_state.plugins["vue-datetime"]={global:!0,npm:{"vue-datetime":"*"}};f.type="date";a.open+=
b.tagParams("datetime",f,!1)+"\n";a.close="</datetime>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_field_datetime:{x_level:">2",x_icons:"pencil,calendar,clock",x_not_icons:"attach,freemind_butterfly",x_not_text_contains:"google:",hint:"Campo de entrada con selector de fecha y hora para usar en formulario vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var f=h("def_form_field_datetime",
d);if(""!=d.text.trim()){var c=d.text.trim();d.text.contains("$")&&(c=c.split(",").pop(),c=c.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$store","$store.state."));f["v-model"]=c}b.x_state.plugins["vuetify-datetime-picker"]={global:!0,npm:{"vuetify-datetime-picker":"2.0.3"},styles:[{file:"dtpicker.styl",lang:"styl",content:"@require '~vuetify-datetime-picker/src/stylus/main.styl'"}]};f.type&&delete f.type;a.open+=b.tagParams("v-datetime-picker",f,!1)+
"\n";a.close="</v-datetime-picker>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_form_google_autocomplete:{x_level:">2",x_icons:"pencil",x_text_contains:"google:autocomplet",attributes_aliases:{apiKey:"key,llave",language:"lang,language,lenguaje",id:"id",placeholder:"hint,ayuda"},hint:"Campo autocompletar para direcciones en formulario vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f={language:"es"},c=h("def_form_google_autocomplete",
d);c.apiKey&&(f.apiKey=c.apiKey,delete c.apiKey);c.language&&(f.language=c.language,delete c.language);b.x_state.plugins["vuetify-google-autocomplete"]={global:!0,npm:{"vuetify-google-autocomplete":"*"},config:JSON.stringify(f)};""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));a.open+=b.tagParams("vuetify-google-autocomplete",c,!1)+"\n";a.close="</vuetify-google-autocomplete>\n";return a});return function(d,a){return c.apply(this,arguments)}}()},def_margen:{x_icons:"idea",x_text_contains:"margen",
hint:"Define un margen alrededor del contenido",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f={};Object.keys(d.attributes).map(function(a){var b=d.attributes[a];b=b.replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.","$store.state.");if("props"==a.toLowerCase())for(var c of b.split(","))f[c]=null;else f[a]=b});a.open+=b.tagParams("v-container",f,!1)+"\n";a.close+="</v-container>\n";return a});
return function(d,a){return c.apply(this,arguments)}}()},def_contenedor:{x_icons:"idea",x_text_contains:"contenedor",x_level:">2",hint:"Vue Container",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f={refx:d.id};Object.keys(d.attributes).map(function(a){var b=d.attributes[a],c=a.toLowerCase().trim(),e=b.toString().replaceAll("$variables","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$env.","process.env.").replaceAll("$store.","$store.state.").trim();if("props"==
c)for(var l of e.split(","))f[l]=null;else":"!=c.charAt(0)&&""!=b&&b!=e?f[":"+a.trim()]=e:f[a.trim()]=e}.bind(this));""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e\n"));a.open+=b.tagParams("v-container",f,!1)+"\n";a.close="</v-container>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_flex:{x_icons:"idea",x_text_contains:"flex",x_not_text_contains:":",hint:"Columna de ancho flexible",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f=
{refx:d.id};""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));Object.keys(d.attributes).map(function(a){var b=d.attributes[a],c=a.toLowerCase().trim(),e=b.toString().replaceAll("$variables","").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$env.","process.env.").replaceAll("$store.","$store.state.").trim(),l=0;-1!=e.indexOf("%")&&(e=parseInt(e.replaceAll("%","").trim()),l=Math.round(12*e/100));if("class"==c)f.class=e;else if("props"==c)for(var g of e.split(","))f[g]=
null;else["padding","margen"].includes(c)?f["pa-"+e]=null:"ancho"==c?f=m(m({},f),w("xs-".concat(l,",sm-").concat(l,",md-").concat(l,",lg-").concat(l),null)):"offset"==c?f=m(m({},f),w("offset-xs-".concat(l,",offset-sm-").concat(l,",offset-md-").concat(l,",offset-lg-").concat(l),null)):["muy chico","movil","small","mobile"].includes(c)?f["xs".concat(l)]=null:["chico","tablet","small","tableta"].includes(c)?f["sm".concat(l)]=null:["medio","medium","average"].includes(c)?f["md".concat(l)]=null:["grande",
"pc","desktop","escritorio"].includes(c)?f["lg".concat(l)]=null:"xfila:grande xfila:pc xfila:desktop pc escritorio xfila:escritorio".split(" ").includes(c)?f["lg".concat(Math.round(12/e))]=null:["xfila:medio","xfila:tablet","tablet","xfila"].includes(c)?f["md".concat(Math.round(12/e))]=null:["xfila:chico","xfila:movil","xfila:mobile"].includes(c)?f["sm".concat(Math.round(12/e))]=null:["xfila:muy chico","xfila:movil chico","xfila:small mobile"].includes(c)?f["xs".concat(Math.round(12/e))]=null:["muy chico:offset",
"movil:offset","small:offset","mobile:offset"].includes(c)?f["offset-xs".concat(Math.round(12/e))]=null:["chico:offset","tablet:offset","small:offset","tableta:offset"].includes(c)?f["offset-sm".concat(Math.round(12/e))]=null:["medio:offset","medium:offset","average:offset"].includes(c)?f["offset-md".concat(Math.round(12/e))]=null:["grande:offset","pc:offset","desktop:offset","escritorio:offset","grande:left"].includes(c)?f["offset-lg".concat(Math.round(12/e))]=null:":"!=c.charAt(0)&&""!=b&&b!=e?
f[":"+a.trim()]=e:f[a.trim()]=e});a.open+=b.tagParams("v-flex",f,!1)+"\n";a.close="</v-flex>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_spacer:{x_icons:"idea",x_text_contains:"spacer",x_level:">2",hint:"Spacer es un espaciador flexible",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));a.open+=b.tagParams("v-spacer",{},!0)+"\n";return a});return function(b,a){return c.apply(this,arguments)}}()},
def_progress:{x_icons:"idea",x_text_contains:"progres",x_level:">2",attributes_aliases:{"background-color":"background-color,background","background-opacity":"background-opacity,opacity","buffer-value":"max,max-value",value:"value,valor",indeterminate:"loop,infinito",width:"width,ancho",size:"size,porte",rotate:"rotate,rotar"},hint:"Item de progreso",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var f="circular";""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));
var c=h("def_progress",d);Object.keys(c).map(function(a){"tipo"==a.toLowerCase()&&["lineal","linea","linear"].includes(c[a])?(f="linear",delete c[a]):"indeterminate"==a.toLowerCase()&&(c[":".concat(a)]=c[a],delete c[a])});a.open+=b.tagParams("v-progress-".concat(f),c,!1)+"\n";a.close="</v-progress-".concat(f,">\n");return a});return function(b,a){return c.apply(this,arguments)}}()},def_dialog:{x_level:">2",x_icons:"idea",x_text_contains:"dialog",x_not_text_contains:"boton:",attributes_aliases:{width:"width,ancho",
"max-width":"max-width,ancho-max,max-ancho"},hint:"Dialogo de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_dialog",d);a.open+=b.tagParams("v-dialog",d,!1)+"\n";a.close+="</v-dialog>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_center:{x_icons:"idea",x_text_contains:"centrar",hint:"Centra nodos hijos",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});
var c={refx:d.id,class:"text-xs-center"};""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));a.open=b.tagParams("div",c,!1)+"<center>\n";a.close+="</center></div>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_html:{x_icons:"idea",x_text_contains:"html:",hint:"html:x, donde x es cualquier tag",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var c={refx:d.id};Object.keys(d.attributes).map(function(a){var f=d.attributes[a];f=f.replaceAll("$variables.",
"").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env").replaceAll("$store.","$store.state.");if("props"==a.toLowerCase())for(var e of f.split(","))c[e]=null;else if(":"!=a.charAt(0)&&f!=d.attributes[a])c[":"+a]=f;else if("v-model"!=a)if(-1!=b.x_state.central_config.idiomas.indexOf(",")){e=b.x_state.central_config.idiomas.split(",")[0];b.x_state.strings_i18n[e]||(b.x_state.strings_i18n[e]={});var l="t_"+b.hash(f);b.x_state.strings_i18n[e][l]=f;c[":"+a]="$t('".concat(l,
"')")}else c[a]=f;else c[a]=f}.bind(this));""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var e=d.text.replace("html:","");a.open+=b.tagParams(e,c,!1)+"\n";a.close+="</".concat(e,">\n");return a});return function(b,a){return c.apply(this,arguments)}}()},def_textonly:{x_level:">2",x_empty:"icons",x_priority:-5,x_or_hasparent:"def_page,def_componente,def_layout",hint:"Texto a mostrar",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var c={class:[]},e,g,h,k=d.text.replaceAll("$variables",
"").replaceAll("$vars.","").replaceAll("$params.","").replaceAll("$config.","process.env.").replaceAll("$store.","$store.state.");""==k&&(k="&nbsp;");if(1==(yield b.hasParentID(d.id,"def_toolbar"))&&0==(yield b.hasParentID(d.id,"def_slot")))a.valid=!1;else if(1==(yield b.hasParentID(d.id,"def_variables")))a.valid=!1;else if(1==(yield b.hasParentID(d.id,"def_page_estilos")))a.valid=!1;else if(1==(yield b.hasParentID(d.id,"def_page_estilos")))a.valid=!1;else{""!=d.text_note&&(a.open+="\x3c!-- ".concat(d.text_note,
" --\x3e\n"));if(-1!=d.text.indexOf("..lorem..")&&-1!=d.text.indexOf(":")){var m=d.text.split(":");var q=m[m.length-1]}-1!=d.text.indexOf("numeral(")&&(b.x_state.plugins["vue-numeral-filter"]={global:!0,npm:{"vue-numeral-filter":"*"},config:"{ locale: 'es-es' }"});1==d.font.bold&&c.class.push("font-weight-bold");10<=d.font.size&&c.class.push("caption");1==d.font.italic&&c.class.push("font-italic");Object.keys(d.attributes).map(function(a){var b=a.toLowerCase().trim(),f=d.attributes[a];"class"==b?
c.class.push(f):":span"==b?e=!0:":omit"==b?g=!0:[":length",":largo","len","length","largo"].includes(a)?q=f:"small"==a?h=!0:["ucase","mayusculas","mayuscula"].includes(a)?"true"!=f&&1!=f||c.class.push("text-uppercase"):["capitales","capitalize","capital"].includes(a)?"true"!=f&&1!=f||c.class.push("text-capitalize"):["lcase","minusculas","minuscula"].includes(a)?"true"!=f&&1!=f||c.class.push("text-lowercase"):"truncate"==a?"true"!=f&&1!=f||c.class.push("text-truncate"):"no-wrap"==a?"true"!=f&&1!=f||
c.class.push("text-no-wrap"):["weight","peso","grosor"].includes(a)?(a=f.toLowerCase(),["thin","fina","100"].includes(a)?c.class.push("font-weight-thin"):["light","300"].includes(a)?c.class.push("font-weight-light"):["regular","400"].includes(a)?c.class.push("font-weight-light"):["medium","500"].includes(a)?c.class.push("font-weight-medium"):["bold","700"].includes(a)?c.class.push("font-weight-bold"):["black","gruesa","900"].includes(a)&&c.class.push("font-weight-black")):"color"==a?-1!=a.indexOf(" ")?
(a=f.split(" "),c.class.push("".concat(a[0],"--text text--").concat(a[1]))):c.class.push("".concat(f,"--text")):"align"==a?(a=f.toLowerCase(),["center","centro","centrar"].includes(a)?c.class.push("text-xs-center"):["right","derecha"].includes(a)?c.class.push("text-xs-right"):["left","izquierda","izquierdo"].includes(a)?c.class.push("text-xs-left"):["justify","justificar","justificado"].includes(a)&&(c.style=c.style?c.style.split(";").push("text-align: justify; text-justify: inter-word;").join(";"):
"text-align: justify; text-justify: inter-word;")):"style"==a?(c.style||(c.styles=[]),c.styles.push(f)):":"!=a.charAt(0)&&""!=d.text&&k!=d.text?c[":"+a]=f:c[a]=f});q&&(m=require("lorem-ipsum").loremIpsum,k=m({count:parseInt(q),units:"words"}));h&&(k="<small>".concat(k,"</small>"));c.class=c.class.map(function(a){a.replaceAll("text-h1","display-4").replaceAll("text-h2","display-3").replaceAll("text-h3","display-2").replaceAll("text-h4","display-1").replaceAll("text-h5","headline").replaceAll("text-subtitle-1",
"subtitle-1").replaceAll("text-subtitle-2","subtitle-2").replaceAll("text-h6","title").replaceAll("text-body-1","body-1").replaceAll("text-body-2","body-2").replaceAll("text-caption","caption").replaceAll("text-overline","overline");return a});0<c.class.length&&(c.class=c.class.join(" "));c.style&&(c.styles=c.styles.join(";"));g||(b.hasParentID(d.id,"def_textonly")||e?a.open+=b.tagParams("span",c)+k+"</span>\n":b.hasParentID(d.id,"def_card_title")&&!c.class?a.open+=k+"\n":a.open+=b.tagParams("div",
c)+k+"</div>\n")}return a});return function(b,a){return c.apply(this,arguments)}}()},def_avatar:{x_level:">2",x_icons:"idea",x_text_contains:"avatar",x_not_text_contains:"fila",hint:"Imagen con mascara redondeada",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_avatar",d);var c={};d.src&&(c.src=d.src,delete d.src);d[":src"]&&(c[":src"]=d[":src"],delete d[":src"]);a.open+=b.tagParams("v-avatar",d,!1)+"\n";
a.open+=b.tagParams("v-img",c,!0)+"\n";a.close+="</v-avatar>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_boton:{x_level:">2",x_icons:"idea",x_text_contains:"boton:",hint:"Boton de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var c=h("def_boton",d);if(c.scrollto){b.x_state.plugins["vue-scrollto"]={global:!0,npm:{"vue-scrollto":"*"}};if(c.scrollto.contains(",")){var e=c.scrollto.split(",")[0],
g=c.scrollto.split(",").pop().trim();c["v-scroll-to"]="{ element:'".concat(e,"', offset:").concat(g,", cancelable:false }")}else c["v-scroll-to"]="{ element:'".concat(c.scrollto,"', cancelable:false }");delete c.scrollto}c.text&&null==c.text&&(c.flat=null,delete c.text);c.rounded&&null==c.rounded&&(c.round=null,delete c.rounded);d=d.text.trim().replaceAll("boton:","");-1!=b.x_state.central_config.idiomas.indexOf(",")?(e=b.x_state.central_config.idiomas.split(",")[0],b.x_state.strings_i18n[e]||(b.x_state.strings_i18n[e]=
{}),g="t_"+b.hash(d),b.x_state.strings_i18n[e][g]=d,d="{{ $t('".concat(g,"') }}")):d.contains("$")&&d.contains("{{")&&d.contains("}}")&&(d=d.replaceAll("$params.","").replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$store.","$store.state."));a.open+=b.tagParams("v-btn",c,!1)+d+"\n";a.close+="</v-btn>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_chip:{x_level:">2",x_icons:"idea",x_text_contains:"chip:",hint:"Chip de vuetify",func:function(){var c=k(function*(d,
a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var c=h("def_chip",d);d=d.text.trim().replaceAll("chip:","");if(-1!=b.x_state.central_config.idiomas.indexOf(",")){var e=b.x_state.central_config.idiomas.split(",")[0];b.x_state.strings_i18n[e]||(b.x_state.strings_i18n[e]={});var g="t_"+b.hash(d);b.x_state.strings_i18n[e][g]=d;d="{{ $t('".concat(g,"') }}")}else d.contains("$")&&d.contains("{{")&&d.contains("}}")&&(d=d.replaceAll("$params.","").replaceAll("$variables.",
"").replaceAll("$vars.","").replaceAll("$store.","$store.state."));a.open+=b.tagParams("v-chip",c,!1)+"".concat(d,"\n");a.close+="</v-chip>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_menu:{x_level:">2",x_icons:"idea",x_text_contains:"menu",x_not_text_contains:":",hint:"Barra de contenido escondible para menu de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_menu",
d);d.visible&&(d["v-model"]=d.visible,delete d.visible);a.open+=b.tagParams("v-menu",d,!1)+"\n";a.close+="</v-menu>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_barralateral:{x_level:">2",x_icons:"idea",x_text_contains:"lateral",x_not_text_contains:":",hint:"Barra lateral (normalmente para un menu) escondible de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_barralateral",
d);d.visible&&(d["v-model"]=d.visible,delete d.visible);a.open+=b.tagParams("v-navigation-drawer",d,!1)+"\n";a.close+="</v-navigation-drawer>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_barrainferior:{x_level:">2",x_icons:"idea",x_text_contains:"inferior",x_not_text_contains:":",hint:"Barra inferior escondible de vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));d=h("def_barrainferior",
d);d.visible&&(d["v-model"]=d.visible,delete d.visible);a.open+=b.tagParams("v-bottom-sheet",d,!1)+"\n";a.close+="</v-bottom-sheet>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_contenido:{x_level:3,x_icons:"idea",x_text_exact:"contenido",x_or_hasparent:"def_page,def_componente",hint:"Contenido de pagina o componente vuetify",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));a.open+=
b.tagParams("main",{},!1)+"\n";a.open+=b.tagParams("v-content",{},!1)+"\n";a.close+="</v-content>\n";a.close+="</main>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_toolbar:{x_level:">2",x_icons:"idea",x_text_exact:"toolbar",attributes_aliases:{icon:"icon,icono"},hint:"Barra superior o toolbar vuetify que permite auto-alinear un titulo, botones, etc.",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note,
" --\x3e"));d=h("def_toolbar",d);if(d[":icon"]){var c="{{ ".concat(d[":icon"]," }}");delete d[":icon"]}else d.icon&&(c=d.icon.toLowerCase().trim(),delete d.icon);a.open+=b.tagParams("v-toolbar",d,!1)+"\n";c&&""!=c?a.open+="<v-toolbar-side-icon><v-icon>".concat(c,"</v-icon></v-toolbar-side-icon>\n"):c&&""==c&&(a.open+="<v-toolbar-side-icon></<v-toolbar-side-icon>\n");a.close="</v-toolbar>\n";return a});return function(b,a){return c.apply(this,arguments)}}()},def_toolbar_title:{x_level:">3",x_empty:"icons",
x_all_hasparent:"def_toolbar",hint:"Titulo para nodo toolbar",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="\x3c!-- ".concat(d.text_note," --\x3e"));var c=h("def_toolbar_title",d);if(c.color){c.class||(c.class="");var e=c.class.split(" ");if(c.color.contains(" ")){var g=c.color.split(" ")[0],k=c.color.split(" ").pop();e.push("".concat(g,"--text text--").concat(k))}else e.push("".concat(c.color,"--text"));c.class=e.join(" ");delete c.color}d=d.text.trim();
-1!=b.x_state.central_config.idiomas.indexOf(",")?(e=b.x_state.central_config.idiomas.split(",")[0],b.x_state.strings_i18n[e]||(b.x_state.strings_i18n[e]={}),g="t_"+b.hash(d),b.x_state.strings_i18n[e][g]=d,d="{{ $t('".concat(g,"') }}")):d.contains("$")&&d.contains("{{")&&d.contains("}}")&&(d=d.replaceAll("$params.","").replaceAll("$variables.","").replaceAll("$vars.","").replaceAll("$store.","$store.state."));a.open+=b.tagParams("v-toolbar-title",c,!1)+d+"\n";a.close="</v-toolbar-title>\n";return a});
return function(b,a){return c.apply(this,arguments)}}()},def_variables:{x_icons:"xmag",x_level:3,x_text_contains:"variables",hint:"Definicion local de variables observadas",func:function(){var c=k(function*(d,a){d=b.reply_template({state:a});"undefined"!==typeof a.current_page&&("undefined"===typeof b.x_state.pages[a.current_page]&&(b.x_state.pages[a.current_page]={}),!1==="variables"in b.x_state.pages[a.current_page]&&(b.x_state.pages[a.current_page].variables={}),!1==="types"in b.x_state.pages[a.current_page]&&
(b.x_state.pages[a.current_page].types={}));return d});return function(b,a){return c.apply(this,arguments)}}()},def_variables_field:{x_priority:1,x_empty:"icons",x_level:">3",x_all_hasparent:"def_variables",hint:"Campo con nombre de variable observada y tipo",func:function(){var c=k(function*(d,a){var c=b.reply_template({state:a}),e={},g="string",h=d.text.trim(),k=d.level-3;if(h.contains("[")&&h.contains("]")||h.contains("{")&&h.contains("}"))g="script",h="script".concat(d.id);else if(h.contains(":"))g=
h.split(":").pop().toLowerCase().trim(),h=h.split(":")[0].trim();else if(d.nodes_raw&&0<d.nodes_raw.length){var m=yield d.getNodes(),q=!1,n;for(n of m)n.icons.includes("help")&&(q=!0);0==q&&(g="object")}else g="string";Object.keys(d.attributes).map(function(a){var c=a.toLowerCase().trim(),f=d.attributes[a];["type","tipo",":type",":tipo"].includes(c)?g=f.toLowerCase().trim():["valor","value",":valor",":value"].includes(c)?(a=f.replaceAll("$variables","this.").replaceAll("$vars.","this.").replaceAll("$params.",
"this.").replaceAll("$config.","process.env.").replaceAll("$store.","this.$store.state."),"{now}"==a.toLowerCase().trim()&&(a="new Date()"),a.contains("assets:")&&(a=b.getAsset(a,"js")),e.value=a):c.contains(":")&&(e[a.trim()]=f.trim())});if(["string","text","texto"].includes(g))e.value=!1==="value"in e?"":e.value.toString();else if("script"==g){e.value=d.text.trim().replaceAll("&#xa;","").replaceAll("&apos;",'"').replaceAll("&#xf1;","\u00f1");"["!=e.value.charAt(0)&&(e.value="["+e.value+"]");m=require("safe-eval");
try{e.value=m(e.value)}catch(z){e.value=[{error_in_script_var:z}]}}else["int","numeric","number","numero"].includes(g)?e.value=!1==="value"in e?0:parseInt(e.value):["float","real","decimal"].includes(g)?e.value=!1==="value"in e?0:parseFloat(e.value):["boolean","boleano","booleano"].includes(g)?!1==="value"in e?e.value="true"==h?!0:!1:"true"==e.value?e.value=!0:"false"==e.value&&(e.value=!1):["array"].includes(g)?(g="array",e.value=!1==="value"in e?[]:JSON.parse(e.value)):["struct","object"].includes(g)&&
(g="object",e.value=!1==="value"in e?{}:JSON.parse(e.value));"undefined"!==typeof a.current_page&&(!1===a.current_page in b.x_state.pages&&(b.x_state.pages[a.current_page]={}),!1==="variables"in b.x_state.pages[a.current_page]&&(b.x_state.pages[a.current_page].variables={}),!1==="var_types"in b.x_state.pages[a.current_page]&&(b.x_state.pages[a.current_page].var_types={}));if(1==k)b.x_state.pages[a.current_page].var_types[h]=g,b.x_state.pages[a.current_page].variables[h]=e.value,c.state.vars_path=
[h],c.state.vars_types=[g];else{c.state.vars_last_level==k&&(c.state.vars_path.pop(),c.state.vars_types.pop());c.state.vars_path.push(h);if("object"==c.state.vars_types[c.state.vars_types.length-1])x(b.x_state.pages[a.current_page].variables,e.value,c.state.vars_path.join("."));else if("array"==c.state.vars_types[c.state.vars_types.length-1]){m=[...c.state.vars_path];m.pop();var r=A(b.x_state.pages[a.current_page].variables,m.join("."));"script"==g?e.value.map(a=>{r.push(a)}):h!=e.value?(q={},q[h]=
e.value,r.push(q)):r.push(e.value);x(b.x_state.pages[a.current_page].variables,r,m.join("."))}c.state.vars_types.push(g);b.x_state.pages[a.current_page].var_types[c.state.vars_path.join(".")]=g}c.state.vars_last_level=k;return c});return function(b,a){return c.apply(this,arguments)}}()},def_variables_watch:{x_icons:"help",x_level:">4",x_text_contains:"change",x_all_hasparent:"def_variables",hint:"Monitorea los cambios realizados a la variable padre",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});
var c={name:d.text.trim(),type:"watched",oldvar:"old",newvar:"new",deep:!1};Object.keys(d.attributes).map(function(a){var b=a.toLowerCase().trim();a=d.attributes[a];[":old","old"].includes(b)?c.oldvar=a:[":new","new"].includes(b)?c.newvar=a:[":deep","deep"].includes(b)&&(c.deep=a)});c.flat=a.state.vars_path.join(".");a.open=b.tagParams("vue_watched_var",c,!1);""!=d.text_note&&(a.open+="//".concat(d.text_note,"\n"));a.close="</vue_watched_var>";return a});return function(b,a){return c.apply(this,arguments)}}()},
def_variables_func:{x_icons:"help",x_level:4,x_not_text_contains:":server,condicion si,otra condicion",x_all_hasparent:"def_variables",hint:"Variable tipo funcion",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});var c={name:d.text.trim(),type:"computed"},e="async";Object.keys(d.attributes).map(function(a){var b=a.toLowerCase().trim().replaceAll(":","");a=d.attributes[a].trim();"default"==b?c.valor=a:["valor","value"].includes(b)?c.valor=a:"lazy"==b?c.lazy="true"==a?!0:!1:"observar onchange cambie cambien modifiquen cuando monitorear watch".split(" ").includes(b)?
c.watch=a:"async"==b&&(e="true"==a?"async":"sync")});"async"==e?(b.x_state.plugins["vue-async-computed"]={global:!0,npm:{"vue-async-computed":"*"}},a.open=b.tagParams("vue_async_computed",c,!1),""!=d.text_note&&(a.open+="//".concat(d.text_note,"\n")),a.close="</vue_async_computed>\n"):(a.open=b.tagParams("vue_computed",c,!1),""!=d.text_note&&(a.open+="//".concat(d.text_note,"\n")),a.close="</vue_computed>\n");return a});return function(b,a){return c.apply(this,arguments)}}()},def_responder:{x_icons:"desktop_new",
x_text_contains:"responder",x_not_text_contains:"traducir,struct,extender",x_all_hasparent:"def_variables",x_level:">3",hint:"Emite una respuesta para la variable de tipo funcion",func:function(){var c=k(function*(d,a){a=b.reply_template({state:a});""!=d.text_note&&(a.open="//".concat(d.text_note,"\n"));var c=b.dsl_parser.findVariables({text:d.text,symbol:'"',symbol_closing:'"'});c.contains("**")&&d.icons.includes("bell")?(d=e(c),a.open+="return ".concat(d,";\n")):c.contains("$")?(c=c.replaceAll("$params",
"this.").replaceAll("$variables","this."),a.open+="return ".concat(c,";\n")):c.contains("assets:")?(c=b.getAsset(c,"js"),a.open+="return ".concat(c,";\n")):""==c?a.open+="return '';\n":"("==c.charAt(0)&&")"==c.slice(-1)?(c=c.slice(1).slice(0,-1),a.open+="return ".concat(c,";\n")):b.x_state.central_config.idiomas&&b.x_state.central_config.idiomas.contains(",")||(a.open+="return '".concat(c,"';\n"));return a});return function(b,a){return c.apply(this,arguments)}}()},def_struct:{x_icons:"desktop_new",
x_text_contains:"struct",x_not_text_contains:"traducir",x_level:">3",hint:"Crea una variable de tipo Objeto, con los campos y valores definidos en sus atributos.",func:function(){var c=k(function*(c,a){a=b.reply_template({state:a});if(c.text.contains(",")){var d=c.text.split(",").pop();if(b.hasParentID(c.id,"def_event_server")){d=d.replaceAll("$variables.","resp.").replaceAll("$vars.","resp.").replaceAll("$params.","resp.");d="resp."==d?"resp":d;var g=!0}else d=d.replaceAll("$variables.","this.").replaceAll("store.",
"this.$store.state."),d="this."==d?"this":d;var h=m({},c.attributes);Object.keys(c.attributes).map(function(a){a.toLowerCase().trim();var d=c.attributes[a].trim();d=c.icons.includes("bell")?e(d):d.contains("assets:")?b.getAsset(d,"jsfunc"):g?d.replaceAll("$variables.","resp.").replaceAll("$vars.","resp.").replaceAll("$params.","resp."):d.replaceAll("$variables.","this.").replaceAll("$vars.","this.").replaceAll("$params.","this.").replaceAll("$store.","this.$store.state.");h[a]=d});""!=c.text_note&&
(a.open="// ".concat(c.text_note,"\n"));a.open+="var ".concat(d.trim()," = ").concat(JSON.stringify(h),";\n")}else a.valid=!1;return a});return function(b,a){return c.apply(this,arguments)}}()}}});return t.apply(this,arguments)}function w(b,g){var e=b;if("string"===typeof e){e={};b=b.split(",");for(var h in b)e[b[h]]=g}else for(var c in e)e[c]=g;return e}function x(b,g,e){var h;e=e.split(".");for(h=0;h<e.length-1;h++)b=b[e[h]];b[e[h]]=g}function A(b,g){return g.split(".").reduce((b,g)=>b[g],b)}String.prototype.replaceAll=
function(b,g){b=b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.replace(new RegExp(b,"ig"),g)};String.prototype.contains=function(b){return-1!=this.indexOf(b)?!0:!1};var B=require("concepto");class C extends B{constructor(b){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};g=m(m({},{class:"vue",debug:!0}),g);super(b,g)}onInit(){var b=this;return k(function*(){yield b.addCommands(y);b.x_console.outT({message:"".concat(Object.keys(b.x_commands).length," local x_commands loaded!"),
color:"green"});b.x_crypto_key=require("crypto").randomBytes(32);b.x_state={plugins:{},npm:{},dev_npm:{},envs:{},functions:{},proxies:{},pages:{},current_func:"",current_folder:"",current_proxy:"",strings_i18n:{},stores_types:{versions:{},expires:{}}};b.x_state.config_node=yield b._readConfig();b.x_state.central_config=yield b._readCentralConfig();b.x_state.assets=yield b._readAssets();b.x_state.dirs=b.x_state.central_config.componente?yield b._appFolders({components:"",pages:"",assets:"assets/",
"static":"static/",umd:"umd/"}):yield b._appFolders({client:"client/",layouts:"client/layouts/",components:"client/components/",pages:"client/pages/",plugins:"client/plugins/","static":"client/static/",middleware:"client/middleware/",server:"client/server/",assets:"client/assets/",css:"client/assets/css/",store:"client/store/",lang:"client/lang/"});b.x_state.models=yield b._readModelos();b.x_state.nuxt_is_running=yield b._isLocalServerRunning();b.debug("is Server Running: "+b.x_state.nuxt_is_running);
if("latest"==b.x_state.central_config.nuxt&&0==b.atLeastNode("10"))throw Error("You need to have at least Node v10+ to use latest Nuxt/Vuetify version!");b.x_state.es6="latest"==b.x_state.central_config.nuxt?!0:!1;if(b.x_state.config_node.copiar){var g=require("path"),e=g.dirname(g.resolve(b.x_flags.dsl)),h=require("recursive-copy");b.x_console.outT({message:"copying config:copiar directories to 'static' target folder",color:"yellow"});yield Object.keys(b.x_state.config_node.copiar).map(function(){var a=
k(function*(a){a=g.join(e,a);try{yield h(a,this.x_state.dirs.static)}catch(v){"EEXIST"!=v.code&&this.x_console.outT({message:"error: copying directory ".concat(a),data:v})}});return function(b){return a.apply(this,arguments)}}().bind(b));b.x_console.outT({message:"copying config:copiar directories ... READY",color:"yellow"})}if(b.x_state.config_node["nuxt:icon"]){b.x_state.npm["@nuxtjs/pwa"]="*";var c=require("path"),d=c.dirname(c.resolve(b.x_flags.dsl));c=c.join(d,b.x_state.config_node["nuxt:icon"]);
d=b.x_state.dirs.static+"icon.png";b.debug({message:"NUXT ICON dump (copy icon)",color:"yellow",data:c});var a=require("fs").promises;try{yield a.copyFile(c,d)}catch(l){b.x_console.outT({message:"error: copying NUXT icon",data:l})}}b.x_state.config_node["google:adsense"]&&(b.x_state.npm["vue-google-adsense"]="*",b.x_state.npm["vue-script2"]="*");b.x_state.config_node["google:analytics"]&&(b.x_state.npm["@nuxtjs/google-gtag"]="*");"latest"==b.x_state.central_config.nuxt&&(b.x_state.plugins["v-mask"]=
{global:!0,npm:{"v-mask":"*"},customcode:"import Vue from 'vue';\nimport VueMask from 'v-mask';\nVue.directive('mask', VueMask.VueMaskDirective);\nVue.use(VueMask);",dev_npm:{}});b.x_state.central_config.componente?(b.x_console.outT({message:"vue initialized() -> as component/plugin"}),b.x_state.npm.global="^4.4.0",b.x_state.npm.poi="9",b.x_state.npm.underscore="*",b.x_state.dev_npm["@vue/test-utils"]="^1.0.0-beta.12",b.x_state.dev_npm["babel-core"]="^6.26.0",b.x_state.dev_npm["babel-preset-env"]=
"^1.6.1",b.x_state.dev_npm.jest="^22.4.0",b.x_state.dev_npm["jest-serializer-vue"]="^0.3.0",b.x_state.dev_npm.vue="*",b.x_state.dev_npm["vue-jest"]="*",b.x_state.dev_npm["vue-server-renderer"]="*",b.x_state.dev_npm["vue-template-compiler"]="*"):(b.x_console.outT({message:"vue initialized() ->"}),b.x_state.plugins["vue-moment"]={global:!0,npm:{"vue-moment":"*"},extra_imports:["moment"],requires:["moment/locale/es"],config:"{ moment }"},b.x_state.npm["@nuxtjs/axios"]="*",b.x_state.npm.nuxt="latest"==
b.x_state.central_config.nuxt?"*":"2.11.0",b.x_state.npm.express="*",b.x_state.npm["serverless-http"]="*",b.x_state.npm["serverless-apigw-binary"]="*",b.x_state.npm.underscore="*",b.x_state.dev_npm["serverless-prune-plugin"]="*",b.x_state.dev_npm["serverless-offline"]="*",b.x_state.dev_npm["vue-beautify-loader"]="*",b.x_state.central_config.dominio&&(b.x_state.dev_npm["serverless-domain-manager"]="*"));c=function(a){["aurora","vpc","aws"].includes(a)&&"object"===typeof b.x_state.config_node[a]&&Object.keys(b.x_state.config_node[a]).map(function(b){this.x_state.envs["config.".concat(a,
".").concat(b)]="process.env.".concat((a+"_"+b).toUpperCase())}.bind(b))};for(var f in b.x_state.config_node)c(f)})()}onAfterProcess(b){return k(function*(){return b})()}onDefineTitle(b){var g=this;return k(function*(){var e=b.text;Object.keys(b.attributes).map(function(g){if("title"==g||"titulo"==g)return e=b.attributes[g],!1}.bind(g));return e})()}onDefineFilename(b){var g=this;return k(function*(){var e=b.text;e=e.replace(/ /g,"_")+".vue";b.icons.includes("gohome")?e=1==g.x_state.central_config.componente&&
g.x_state.central_config.service_name?g.x_state.central_config.service_name+".vue":"index.vue":b.icons.includes("desktop_new")?-1!=b.text.indexOf("assets")?e="internal_assets.omit":-1!=b.text.indexOf("store")?e="internal_stores.omit":-1!=b.text.indexOf("proxy")||-1!=b.text.indexOf("proxies")?e="internal_middleware.omit":-1!=b.text.indexOf("config")?e="config.omit":-1!=b.text.indexOf("modelos")?e="modelos.omit":["servidor","server","api"].includes(b.text)&&(e="server.omit"):-1!=b.text.indexOf("componente:")?
e=b.text.split(":")[b.text.split(":").length-1]+".vue":-1!=b.text.indexOf("layout:")&&(e=b.text.split(":")[b.text.split(":").length-1]+".vue");return e})()}onDefineNodeName(b){return k(function*(){return b.text.replace(" ","_")})()}onCompleteCodeTemplate(b){return k(function*(){return b})()}onPrepare(){var b=this;return k(function*(){if(!b.x_state.central_config.componente&&b.x_state.central_config.deploy&&-1!=b.x_state.central_config.deploy.indexOf("eb:")){var g=require("ini"),e=require("path"),
h=require("fs").promises,c=require("os"),d="";c=e.join(c.homedir(),"/.aws/")+"credentials";try{d=yield h.readFile(c,"utf-8")}catch(f){}if(b.x_state.config_node.aws){if(""!=d){var a=e.dirname(e.resolve(b.x_flags.dsl));e=e.join(a,"aws_backup.ini");b.x_console.outT({message:"config:aws:creating .aws/credentials backup",color:"yellow"});yield h.writeFile(e,d,"utf-8")}b.x_console.outT({message:"config:aws:access ->".concat(b.x_state.config_node.aws.access)});b.x_console.outT({message:"config:aws:secret ->".concat(b.x_state.config_node.aws.secret)});
g=g.stringify({aws_access_key_id:b.x_state.config_node.aws.access,aws_secret_access_key:b.x_state.config_node.aws.secret},{section:"default"});b.debug("Setting .aws/credentials from config node");yield h.writeFile(c,g,"utf-8")}else""!=d&&(h=g.parse(d),h.default&&b.debug("Using local system AWS credentials",h.default),b.x_state.config_node.aws={access:"",secret:""},h.default.aws_access_key_id&&(b.x_state.config_node.aws.access=h.default.aws_access_key_id),h.default.aws_secret_access_key&&(b.x_state.config_node.aws.secret=
h.default.aws_secret_access_key))}})()}onErrors(b){return k(function*(){})()}onCreateFiles(b){var g=this;return k(function*(){g.x_console.out({message:"onCreateFiles",data:b});g.x_console.out({message:"x_state",data:g.x_state})})()}_isLocalServerRunning(){var b=this;return k(function*(){return yield require("is-port-reachable")(b.x_state.central_config.port)})()}_readModelos(){var b=this;return k(function*(){b.debug("_readModelos");b.debug_time({id:"readModelos"});var g=yield b.dsl_parser.getNodes({text:"modelos",
level:2,icon:"desktop_new",recurse:!0}),e={},h={tables:{},attributes:{},length:0,doc:""},c={id:{value:"INT AUTOINCREMENT PRIMARY KEY",alias:["identificador","autoid","autonum","key"]},texto:{value:"STRING",alias:["text","varchar","string"]},int:{value:"INTEGER",alias:["numero chico","small int","numero"]},float:{value:"FLOAT",alias:["decimal","real"]},boolean:{value:"BOOLEAN",alias:["boleano","true/false"]},date:{value:"DATEONLY",alias:["fecha"]},datetime:{value:"DATETIME",alias:["fechahora"]},blob:{value:"BLOB",
alias:["binario","binary"]}};Object.keys(c).map(function(a){var b=c[a].alias;b.push(a);b.map(b=>{e[b]=c[a].value})});if(0<g.length){h.attributes=m({},g[0].attributes);h.doc=g[0].text_note;h.length=g[0].nodes.length;for(var d of g[0].nodes){var a=m({},d.attributes);h.tables[d.text]={fields:{}};g=[];for(var f in a)h.tables[d.text].fields[f]=e[a[f]],g.push(f+" "+e[a[f]]);h.tables[d.text].sql="CREATE TABLE ".concat(d.text,"(").concat(g.join(","),")")}}b.debug_timeEnd({id:"readModelos"});if(0<h.length){d=
[];for(var k in h.tables)d.push("alasqlJs('".concat(h.tables[k].sql,"');"));k="const alasql = {\n\t\t\t\tinstall (v) {\n\t\t\t\t\t// create tables from models\n\t\t\t\t\t".concat(d.join("\n"),"\n\t\t\t\t\tVue.prototype.alasql = alasqlJs;\n\t\t\t\t}\n\t\t\t}");b.x_state.plugins["../../node_modules/alasql/dist/alasql.min.js"]={global:!0,npm:{alasql:"*"},var:"alasqlJs",mode:"client",customvar:"alasql",custom:k}}return h})()}_readAssets(){var b=this;return k(function*(){var g={},e=require("path");b.debug("_readAssets");
b.debug_time({id:"_readAssets"});var h=yield b.dsl_parser.getNodes({text:"assets",level:2,icon:"desktop_new",recurse:!0}),c=e.sep;if(0<h.length){h=h[0];for(var d of h.nodes)if(1==d.nodes.length&&""!=d.nodes[0].image)g[d.text.toLowerCase()]={i18n:!1,original:d.nodes[0].image,css:"~assets"+c+e.basename(d.nodes[0].image),js:"~"+c+"assets"+c+e.basename(d.nodes[0].image)};else if(1<d.nodes.length){h=d.text.toLowerCase();g[h]={i18n:!0,i18n_keys:[]};for(var a of d.nodes){var f=m({},a.attributes);f.idioma&&
""!=a.image&&(f=f.idioma.toLowerCase(),g[h].i18n_keys.push(f),g[h][f]={original:a.image,css:"~assets"+c+e.basename(a.image),js:"~"+c+"assets"+c+e.basename(a.image)})}g[h].i18n_keys=g[h].i18n_keys.join(",")}else""!=d.link&&(g[d.text.toLowerCase()]={original:d.link,css:"~assets"+c+e.basename(d.link),js:"~"+c+"assets"+c+e.basename(d.link)})}b.debug_timeEnd({id:"_readAssets"});return g})()}_readCentralConfig(){var b=this;return k(function*(){b.debug("_readCentralConfig");var g=yield b.dsl_parser.getNodes({level:1,
recurse:!1}),e={cloud:"aws",type:"simple",i18n:!1,log:"console",debug:!1,deploy:!1,static:!1,timeout:30,modelos:"aurora",componente:!1,"keep-alive":!0,"keep-warm":!0,port:3E3,git:!0,nuxt:"latest",idiomas:"es",":cache":b.x_config.cache,":mode":"spa",":keywords":"",":author":"Punto Origen SpA",":license":"MIT",":github":"",":version":"1.0.0",":description":g[0].text_note,default_face:g[0].font.face,default_size:g[0].font.size,apptitle:g[0].text};e=m(m({},e),g[0].attributes);e.service_name=e.dominio?
e.dominio.replace(/\./g,"").toLowerCase():e.apptitle;e[":cache"]||(b.x_config.cache=!1);return e})()}_readConfig(){var b=this;return k(function*(){b.debug("_readConfig");var g={id:"",meta:[],seo:{},secrets:{}},e={};e=yield b.dsl_parser.getNodes({text:"config",level:2,icon:"desktop_new",recurse:!0});if(0<e.length){e=e[0];g.default_face=e.font.face;g.default_size=e.font.size;for(var h of e.nodes)if("meta"==h.text.toLowerCase())for(var c of h.nodes)"keywords"==c.text.toLowerCase()?(g.seo.keywords=c.nodes.map(a=>
a.text),g.meta.push({hid:b.hash(c.nodes[0].text),name:"keywords",content:g.seo.keywords.join(",")})):"language"==c.text.toLowerCase()?(g.seo.language=c.nodes[0].text,g.meta.push({hid:b.hash(c.nodes[0].text),lang:c.nodes[0].text})):"charset"==c.text.toLowerCase()?(g.seo.charset=c.nodes[0].text,g.meta.push({charset:c.nodes[0].text})):(g.seo.charset=c.nodes[0].text,-1!=c.text.indexOf(":")?g.meta.push({property:c.text,vmid:c.text,content:c.nodes[0].text}):g.meta.push({hid:b.hash(c.nodes[0].text),name:c.text,
content:c.nodes[0].text}));else if(0<Object.keys(h.attributes).length){e=h.text.toLowerCase().replace(/ /g,"");var d=m({},h.attributes);g[e]=d;h.icons.includes("password")&&(g[e][":secret"]=!0);""!=h.link&&(g[e][":link"]=h.link)}else 0<h.nodes.length?g[h.text]=h.nodes[0].text:""!=h.link&&(g[h.text]=h.link)}g.name||(h=require("path"),c=h.dirname(h.resolve(b.x_flags.dsl)),e=h.resolve(c,"../"),c=c.replace(e,""),g.name=c.replace("/","").replace("\\","")+"_"+h.basename(b.x_flags.dsl,".dsl"));g.id||(g.id=
"com.puntorigen."+g.name);return g})()}getParentNodes(){var b=arguments,g=this;return k(function*(){var e=0<b.length&&void 0!==b[0]?b[0]:g.throwIfMissing("id"),h=1<b.length&&void 0!==b[1]?b[1]:!1,c=yield g.dsl_parser.getParentNodesIDs({id:e,array:!0});e=[];for(var d of c)c=yield g.dsl_parser.getNode({id:d,recurse:!1}),(c=yield g.findValidCommand({node:c,object:h}))&&e.push(c);return e})()}getAsset(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.throwIfMissing("text"),g=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:"js",e=b;b=b.replaceAll("jsfunc","js").toLowerCase();if(-1!=e.toLowerCase().indexOf("assets:")&&e in this.x_state.assets)if(-1!=this.x_state.central_config.idiomas.indexOf(",")&&1==this.x_state.assets[e].i18n){var h=this.x_state.assets[e].i18n_keys.split(",")[0];e=this.x_state.assets[e][h][b];"js"==g.toLowerCase()?(e=e.replaceAll("/".concat(h,"/"),"/' + $i18n.locale + '/"),e="require('".concat(e,"')")):"jsfunc"==g.toLowerCase()&&(e=e.replaceAll("/".concat(h,"/"),
"/' + this.$i18n.locale + '/"),e="require('".concat(e,"')"))}else e in this.x_state.assets&&b in this.x_state.assets[e]&&(e=this.x_state.assets[e][b],-1!=g.toLowerCase().indexOf("js")&&(e="require('".concat(e,"')")));return e}struct2params(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.throwIfMissing("id"),g=[],e=m({},b);"aos"in e&&(b=b.aos.split(","),3==b.length?(e["data-aos"]=b[0],e["data-aos-duration"]=b[1],e["data-aos-delay"]=b[2]):(e["data-aos"]=b[0],e["data-aos-duration"]=
b[1]),delete e.aos);var h,c;for([h,c]of Object.entries(e))null===c?g.push(h):"object"!==typeof c&&"function"!==typeof c&&"undefined"!==typeof c&&g.push("".concat(h,"='").concat(c,"'"));return g.join(" ")}hash(b){var g=require("highwayhash"),e;"string"===typeof b?e=Buffer.from(b):"object"===typeof b&&(e=Buffer.from(JSON.stringify(b)));return g.asHexString(this.x_crypto_key,e)}atLeastNode(b){var g=process.versions.node.split(".").map(b=>parseInt(b,10));b=b.split(".").map(b=>parseInt(b,10));return g[0]>
b[0]||g[0]===b[0]&&(g[1]>b[1]||g[1]===b[1]&&g[2]>=b[2])}}return C})
