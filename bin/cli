#!/usr/bin/env node
process.env.UV_THREADPOOL_SIZE=8*require('os').cpus().length;
const vue = require('../lib/index');
var myArgs = process.argv.slice(2);

(async () => {
    // testing code here
    let file = (myArgs.length>0)?myArgs[0]:'vue.dsl';
    let debug = (myArgs.length>1)?eval(myArgs[1].trim()):false;
    let base = new vue(file,{ debug });
    await base.init();
    await base.addCommands(require('../lib/commands.js'));
    await base.process();
    console.log('total time passed, since constructor: '+base.secsPassed_());

})().catch(err => {
    console.error(err);
});
